(this["webpackJsonp@sosml/frontend"]=this["webpackJsonp@sosml/frontend"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f}));var r=n(88),a=n(89),o=n(90),i=n(91),s=n(92),c=n(93),l=n(94),h=n(95),d={yachiyo:r,"\u3084\u3061\u3088":r,kyoko:a,"\u674f\u5b50":a,madoka:o,"\u307e\u3069\u304b":o,sayaka:i,"\u3055\u3084\u304b":i,homura:s,"\u307b\u3080\u3089":s,mami:c,"\u30de\u30df":c,sana:l,"\u3055\u306a":l,nagisa:h,"\u306a\u304e\u3055":h};function u(e,t){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&void 0!==t?d[t]:d[e]}function m(e,t,n){var r=u(e,t);return void 0===r?"":r[n]}function p(e,t,n,r,a,o){return"\n    .btn-".concat(e," {\n        color: ").concat(t,";\n        background-color: ").concat(n,";\n        border-color: ").concat(r,";\n        font-family: monospace;\n    }\n    .btn-").concat(e,":hover,\n    .btn-").concat(e,":focus,\n    .btn-").concat(e,":active,\n    .btn-").concat(e,".active {\n        color: ").concat(t,";\n        background-color: ").concat(n,";\n        background-color: ").concat(n,"aa;\n        border-color: ").concat(a,";\n    }\n    .btn-").concat(e,".disabled,\n    .btn-").concat(e,".disabled:hover,\n    .btn-").concat(e,".disabled:focus,\n    .btn-").concat(e,".disabled:active,\n    .btn-").concat(e,".disabled.active,\n    .btn-").concat(e,"[disabled]:hover,\n    .btn-").concat(e,"[disabled]:focus,\n    .btn-").concat(e,"[disabled]:active,\n    .btn-").concat(e,"[disabled].active,\n    fieldset[disabled] .btn-").concat(e,",\n    fieldset[disabled] .btn-").concat(e,":hover,\n    fieldset[disabled] .btn-").concat(e,":focus,\n    fieldset[disabled] .btn-").concat(e,":active,\n    fieldset[disabled] .btn-").concat(e,".active {\n        color: ").concat(n,";\n        background-color: unset;\n        border-color: ").concat(r,";\n    }\n\n    .btn-").concat(e," .glyphicon{\n        color: ").concat(o,";\n        color: ").concat(o,"dd;\n        text-shadow: -1px 0 ").concat(r,", 0 1px ").concat(r,",\n        1px 0 ").concat(r,", 0 -1px ").concat(r,";\n        text-shadow: -1px 0 ").concat(r,"dd, 0 1px ").concat(r,"dd,\n        1px 0 ").concat(r,"dd, 0 -1px ").concat(r,"dd;\n    }\n    ")}function f(e){return void 0===e?"\n        ":"\n    .flexy { color: ".concat(e.foreground,"; background-color: ").concat(e.background,"; }\n    .window-content { color: ").concat(e.foreground,"; background-color: ").concat(e.background,"; }\n    .navbar {\n        color: ").concat(e.navbar_fg,";\n        background-color: ").concat(e.navbar_bg,";\n        border-color: ").concat(e.navbar_bg,";\n    }\n    .nav-brand {\n        color: ").concat(e.navbar_fg,";\n    }\n    .nav-link2:hover,\n    .nav-link2:focus,\n    .nav-brand:hover,\n    .nav-brand:focus,\n    .navbar-nav > .open > a,\n    .navbar-nav > .open > a:hover,\n    .navbar-nav > .open > a:focus,\n    .navbar-link:hover,\n    .navbar .btn-link:hover,\n    .navbar .btn-link:focus\n    {\n        color: ").concat(e.navbar_hover,";\n        background-color: transparent;\n    }\n\n    .nav-link2:hover .glyphicon,\n    .nav-link2:focus .glyphicon,\n    .nav-brand:hover .glyphicon,\n    .nav-brand:focus .glyphicon,\n    .navbar-nav > .open > a .glyphicon,\n    .navbar-nav > .open > a:hover .glyphicon,\n    .navbar-nav > .open > a:focus .glyphicon,\n    .navbar-link:hover .glyphicon,\n    .navbar .btn-link:hover .glyphicon,\n    .navbar .btn-link:focus .glyphicon {\n        text-shadow: -1px 0 ").concat(e.navbar_hover,", 0 1px ").concat(e.navbar_hover,",\n        1px 0 ").concat(e.navbar_hover,", 0 -1px ").concat(e.navbar_hover,";\n    }\n\n    .navbar-toggler, hr,\n    .navbar-collapse, .navbar .navbar-form {\n        border-color: ").concat(e.border,";\n    }\n\n    .navbar-toggler-icon {\n        background-color: ").concat(e.navbar_focus_bg,";\n    }\n\n    .navbar-toggler-icon:hover,\n    .navbar-toggler-icon:focus {\n        background-color: ").concat(e.navbar_bg,";\n    }\n\n    .nav-link2.active, .nav-link2.active:focus,\n    .nav-link2.active:hover {\n        color: ").concat(e.navbar_focus_fg,";\n        background-color: ").concat(e.navbar_focus_bg,";\n    }\n    .navbar-toggler:focus .glyphicon,\n    .navbar-toggler:hover .glyphicon,\n    .nav-link2.active .glyphicon,\n    .nav-link2.active:focus .glyphicon,\n    .nav-link2.active:hover .glyphicon {\n        color: ").concat(e.navbar_focus_bg,";\n        text-shadow: -1px 0 ").concat(e.navbar_focus_fg,", 0 1px ").concat(e.navbar_focus_fg,",\n        1px 0 ").concat(e.navbar_focus_fg,", 0 -1px ").concat(e.navbar_focus_fg,";\n    }\n\n    .nav-link2 {\n        color: ").concat(e.navbar_fg,";\n        background-color: ").concat(e.navbar_bg,";\n    }\n    .navbar-toggler .glyphicon,\n    .nav-link2 .glyphicon {\n        color: ").concat(e.navbar_bg,";\n        text-shadow: -1px 0 ").concat(e.navbar_fg,", 0 1px ").concat(e.navbar_fg,",\n        1px 0 ").concat(e.navbar_fg,", 0 -1px ").concat(e.navbar_fg,";\n    }\n\n    .navbar-toggler:focus, .navbar-toggler:hover {\n        color: ").concat(e.navbar_focus_fg,";\n        background-color: ").concat(e.navbar_focus_bg,";\n    }\n\n    .tooltip-inner {\n        border-color: ").concat(e.border,";\n        color: ").concat(e.foreground,";\n        background-color: ").concat(e.background,";\n    }\n\n    .glyphicon {\n        color: ").concat(e.background,";\n        text-shadow: -1px 0 ").concat(e.foreground,", 0 1px ").concat(e.foreground,",\n        1px 0 ").concat(e.foreground,", 0 -1px ").concat(e.foreground,";\n    }\n\n    .footer { color: ").concat(e.foreground,"; background-color: ").concat(e.background,"; }\n    a { color: ").concat(e.link,"; }\n    a .glyphicon{\n        text-shadow: -1px 0 ").concat(e.link,", 0 1px ").concat(e.link,",\n        1px 0 ").concat(e.link,", 0 -1px ").concat(e.link,";\n    }\n\n    a:focus, a:hover { color: ").concat(e.link_hover,"; text-decoration: none; }\n    a:focus .glyphicon, a:hover .glyphicon {\n        text-shadow: -1px 0 ").concat(e.link_hover,", 0 1px ").concat(e.link_hover,",\n        1px 0 ").concat(e.link_hover,", 0 -1px ").concat(e.link_hover,";\n    }\n\n    .alert-danger {\n        color: ").concat(e.btn_dng_fg,";\n        background-color: ").concat(e.btn_dng_bg,";\n        border-color: ").concat(e.btn_dng_border,";\n    }\n\n    .card,\n    .alert-info {\n        color: ").concat(e.alert_fg,";\n        background-color: ").concat(e.alert_bg,";\n        border-color: ").concat(e.alert_border,";\n    }\n\n    .alert-info .glyphicon {\n        color: ").concat(e.alert_bg,";\n        text-shadow: -1px 0 ").concat(e.alert_fg,", 0 1px ").concat(e.alert_fg,",\n        1px 0 ").concat(e.alert_fg,", 0 -1px ").concat(e.alert_fg,";\n    }\n\n    .alert-info a .glyphicon {\n        text-shadow: -1px 0 ").concat(e.link,", 0 1px ").concat(e.link,",\n        1px 0 ").concat(e.link,", 0 -1px ").concat(e.link,";\n    }\n    .alert-info a:focus .glyphicon, .alert-info a:hover .glyphicon {\n        text-shadow: -1px 0 ").concat(e.link_hover,", 0 1px ").concat(e.link_hover,",\n        1px 0 ").concat(e.link_hover,", 0 -1px ").concat(e.link_hover,";\n    }\n\n    .window-header {\n        color: ").concat(e.minihead_fg,";\n        background-color: ").concat(e.minihead_bg,";\n    }\n    .mini-window { border-color: ").concat(e.border,"; }\n\n    .CodeMirror-lines, .CodeMirror-scroll, body {\n        color: ").concat(e.foreground,"; background-color: ").concat(e.background,"; }\n    .splitter-layout>.layout-splitter { background-color: ").concat(e.background,"; }\n    .CodeMirror-sizer, .CodeMirror-gutter,\n    .CodeMirror-gutters, .CodeMirror-linenumber {\n        color: ").concat(e.editor_fg,";\n        border-color: ").concat(e.editor_fg,";\n        background-color: ").concat(e.editor_bg,";\n    }\n    .CodeMirror-cursor {\n        border-color: ").concat(e.border,";\n    }\n    .CodeMirror-selected {\n        background-color: ").concat(e.selection_bg," !important;\n        background-color: ").concat(e.selection_bg,"77 !important;\n    }\n    span.CodeMirror-matchingbracket {\n        color: ").concat(e.link_hover," !important;\n    }\n    .cm-s-default span.cm-comment { color: ").concat(e.cm_comment,"; }\n    .cm-s-default span.cm-atom { color: ").concat(e.cm_atom,"; }\n    .cm-s-default span.cm-number { color: ").concat(e.cm_number,"; }\n\n    .cm-s-default span.cm-property, .cm-s-default span.cm-attribute { color: ").concat(e.cm_prop,"; }\n    .cm-s-default span.cm-keyword { color: ").concat(e.cm_keyword,"; font-weight: bold }\n    .cm-s-default span.cm-string { color: ").concat(e.cm_string,"; }\n    .cm-s-default span.cm-quote { color: ").concat(e.cm_string,"; }\n\n    .cm-s-default span.cm-builtin { color: ").concat(e.cm_builtin,"; }\n    .cm-s-default span.cm-variable { color: ").concat(e.cm_variable,"; }\n    .cm-s-default span.cm-variable-2 { color: ").concat(e.cm_variable_alt,"; }\n    .cm-s-default span.cm-def { color: ").concat(e.cm_def,"; }\n    .cm-s-default span.cm-bracket { color: ").concat(e.cm_bracket,"; }\n    .cm-s-default span.cm-tag { color: ").concat(e.cm_tag,"; }\n    .cm-s-default span.cm-link { color: ").concat(e.cm_link,"; }\n    .cm-s-default span.cm-error { color: ").concat(e.cm_error,"; }\n\n    .cm-label {\n        color: ").concat(e.btn_dng_fg,";\n        background-color: ").concat(e.btn_dng_bg,";\n        border-color: ").concat(e.btn_dng_border,";\n    }\n\n    .form-control, input {\n        color: ").concat(e.foreground,";\n        background-color: ").concat(e.background,";\n        border-color: ").concat(e.border,";\n    }\n    .form-control:focus {\n        border-color: ").concat(e.link,";\n    }\n    input[type=checkbox] {\n        color: ").concat(e.foreground,";\n        background-color: ").concat(e.background,";\n        border-color: ").concat(e.border,";\n    }\n    input[type=checkbox]:checked:after {\n        color: ").concat(e.btn_suc_fg,";\n        background-color: ").concat(e.btn_suc_bg,";\n        border-color: ").concat(e.btn_suc_border,";\n    }\n    pre {\n        color: ").concat(e.foreground,";\n    }\n\n    table, td, tr {\n        border-color: ").concat(e.border,";\n    }\n\n    .table-hover>tbody>tr:hover {\n        color: ").concat(e.btn_suc_fg,";\n        background-color: ").concat(e.btn_suc_bg,";\n        background-color: ").concat(e.btn_suc_bg,"99;\n    }\n\n    td:hover, tr:hover {\n        border-color: ").concat(e.link_hover,";\n    }\n\n    .modal-content {\n        color: ").concat(e.foreground,";\n        background-color: ").concat(e.background,";\n        border-color: ").concat(e.border,";\n    }\n\n    .splitter-layout.layout-changing > .layout-splitter,\n    .splitter-layout > .layout-splitter {\n        background-color: ").concat(e.background,";\n    }\n\n    code {\n        color: ").concat(e.alert_fg,";\n    }\n\n    .splitter-layout .layout-splitter:hover {\n        background-color: ").concat(e.border,";\n    }\n\n    ").concat(p("def-alt",e.foreground,e.background,e.border,e.link_hover,e.background),"\n    ").concat(p("def-inv",e.navbar_focus_fg,e.navbar_focus_bg,e.border,e.link_hover,e.background),"\n    ").concat(p("pri-alt",e.btn_pri_fg,e.btn_pri_bg,e.btn_pri_border,e.btn_hover,e.background),"\n    ").concat(p("suc-alt",e.btn_suc_fg,e.btn_suc_bg,e.btn_suc_border,e.btn_hover,e.background),"\n    ").concat(p("dng-alt",e.btn_dng_fg,e.btn_dng_bg,e.btn_dng_border,e.btn_hover,e.background),"\n\n    .selectable::selection, br::selection, strong::selection,  h2::selection, h3::selection,\n    h4::selection, a::selection, p::selection, pre::selection, .footer::selection, b::selection,\n    i::selection, input::selection, .CodeMirror-line::selection, td::selection, label::selection,\n    em::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection,\n    .modal-content::selection, .modal-body::selection, .modal-title::selection {\n        color: ").concat(e.foreground,";\n        background-color: ").concat(e.selection_bg," !important;\n        background-color: ").concat(e.selection_bg,"77 !important;\n    }\n\n    ::-webkit-scrollbar {\n        height: 10px;\n        width: 10px;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        border: 1px solid ").concat(e.border,";\n        cursor: pointer;\n        border-right: 0px;\n    }\n    ")}},110:function(e,t,n){e.exports=n(137)},115:function(e,t,n){},116:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(62),o=n(35);o.defineMode("sml",(function(e,t){var n=a.getFirstState([],{}),i=Object(r.f)();function s(e){var t=0;return a.Lexer.nextToken({next:function(){if(t<e.length)return++t,e.charAt(t-1);throw new a.Errors.IncompleteError(". . .")},eos:function(){return t>=e.length},peek:function(n){if(void 0===n&&(n=0),t+n<e.length)return e.charAt(t+n)}},i)}i.allowCommentToken=!0;return{startState:function(){return{remainder:"",parenLevel:0,letLevel:0,funLevel:0}},token:function(e,t){if(e.eatSpace())return"space";var r=void 0;try{var o=0;r=a.Lexer.nextToken({next:function(){if(o<t.remainder.length)return++o,t.remainder.charAt(o-1);if(e.eol())throw new a.Errors.IncompleteError(". . .");return e.next()},eos:function(){return e.eol()},peek:function(n){if(void 0===n&&(n=0),o+n<t.remainder.length)return t.remainder.charAt(o+n);n-=t.remainder.length;for(var r=e.peek(),a=0;a<n;++a){if(null===e.peek())return void e.backup(a);e.next(),r=e.peek()}return n>0&&e.backUp(n),r}},i),t.remainder=""}catch(d){if("Input Incomplete"!==d.name)return"error";t.remainder+=e.current()+"";for(var c="",l=1;l<10;++l){var h=e.lookAhead(l);if(void 0===h)break;c+=" "+h}try{r=s(t.remainder+c)}catch(d){return"error"}}if(void 0===r)return null;switch(r.typeName()){case"CommentToken":return"comment";case"KeywordToken":return"fun"!==r.text&&"case"!==r.text||(t.funLevel=1),"("===r.text&&t.parenLevel++,")"===r.text&&t.parenLevel--,"let"!==r.text&&"local"!==r.text&&"struct"!==r.text&&"sig"!==r.text||t.letLevel++,"end"===r.text&&t.letLevel--,";"===r.text&&0===t.parenLevel&&0===t.letLevel?(t.funLevel=0,null):"keyword";case"IntegerConstantToken":case"NumericToken":case"RealConstantToken":case"WordConstantToken":case"ConstantToken":return"number";case"CharacterConstantToken":case"StringConstantToken":return"quote";case"IdentifierToken":return"variable";case"AlphanumericIdentifierToken":return void 0!==n.getDynamicValue(r.text)||void 0!==n.getDynamicType(r.text)?"builtin":"variable";case"LongIdentifierToken":return"variable";case"TypeVariableToken":case"EqualityTypeVariableToken":return"atom";case"StarToken":case"EqualsToken":return"operator";default:return null}},indent:function(t,n){var r=s(n),a=0;if(void 0!==r){if("KeywordToken"===r.typeName()&&("in"===r.getText()||"end"===r.getText())){if(!(t.letLevel>0))return o.Pass;a=1}if("KeywordToken"===r.typeName()&&"|"===r.getText()){if(!(t.funLevel>0))return o.Pass;a=-1}}return(t.letLevel-a)*e.indentUnit},blockCommentStart:"(*",blockCommentEnd:"*)",lineComment:null,fold:"sml",electricInput:new RegExp("^\\s*(\\||in|end)$")}})),o.defineMIME("text/sml",{name:"sml",extraWords:{}})},128:function(e,t,n){var r=n(35);function a(e,t){var n=e.getLine(t);return-1===n.search(/\S/)?-1:r.countColumn(n,null,e.getOption("tabSize"))}r.registerHelper("fold","sml",(function(e,t){var n=a(e,t.line);if(!(n<0)){for(var o=null,i=t.line+1,s=e.lastLine();i<=s;++i){var c=a(e,i);if(-1!==c){if(!(c>n||e.getLine(i).startsWith("|")&&c===n))break;o=i}}return o?{from:r.Pos(t.line,e.getLine(t.line).length),to:r.Pos(o,e.getLine(o).length)}:void 0}}))},131:function(e,t,n){},132:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(28),o=(n(115),n(10)),i=n(9),s=n(14),c=n(13),l=n(8),h=n(73),d=n(49),u=n(6),m=n(11),p=(n(116),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return"sunmoon"===this.props.icon?r.createElement("span",{className:"icon icon-moon",style:{fontSize:this.props.size}},r.createElement("svg",{viewBox:"0 0 36 24",width:this.props.size,style:{verticalAlign:"middle"}},r.createElement("path",{stroke:this.props.stroke,strokeWidth:"2",fill:this.props.fill,d:"M6.76 4.84 l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41z M4 10.5H1v2h3v-2z m9-9.95h-2V3.5h2V.55z m7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79z m-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z M20 10.5v2h3v-2h-3z m-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z m-1 16.95h2V19.5h-2v2.95z m-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),r.createElement("path",{stroke:this.props.stroke,strokeWidth:"2",fill:this.props.fill,d:"M25 2 c-1.05 0 -2.05 .16 -3 .46 3.06 1.27 5.5 5.06 5.5 9.54 0 3.48 -1.94 8.27 -5.5 9.54 .95 .3 1.95 .46 3 .46 5.52 0 10 -4.48 10 -10 S30.52 2 25 2z"}))):"moon"===this.props.icon?r.createElement("span",{className:"icon icon-moon",style:{fontSize:this.props.size}},r.createElement("svg",{viewBox:"0 0 24 24",width:this.props.size,style:{verticalAlign:"middle"}},r.createElement("path",{stroke:this.props.stroke,strokeWidth:"1.5",fill:this.props.fill,d:"M9 2 c-1.05 0 -2.05 .16 -3 .46 3.06 1.27 5.5 5.06 5.5 9.54 0 3.48 -1.94 8.27 -5.5 9.54 .95 .3 1.95 .46 3 .46 5.52 0 10 -4.48 10 -10 S14.52 2 9 2z"}))):"sun"===this.props.icon?r.createElement("span",{className:"icon icon-sun",style:{fontSize:this.props.size}},r.createElement("svg",{viewBox:"0 0 24 24",width:this.props.size,style:{verticalAlign:"middle"}},r.createElement("path",{stroke:this.props.stroke,strokeWidth:"1.5",fill:this.props.fill,d:"M6.76 4.84 l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41z M4 10.5H1v2h3v-2z m9-9.95h-2V3.5h2V.55z m7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79z m-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z M20 10.5v2h3v-2h-3z m-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z m-1 16.95h2V19.5h-2v2.95z m-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}))):"sosml"===this.props.icon?r.createElement("span",{className:"icon icon-sosml",style:{verticalAlign:"middle",display:"inline-block"}},r.createElement("svg",{viewBox:"0 0 52 52",width:this.props.size},r.createElement("circle",{cx:26,cy:26,r:24,stroke:this.props.stroke,strokeWidth:1,fill:this.props.fill}),r.createElement("circle",{cx:26,cy:26,r:10,stroke:this.props.stroke,strokeWidth:1,fill:this.props.stroke}),r.createElement("circle",{cx:17,cy:15,r:7,stroke:this.props.stroke,strokeWidth:1,fill:"#fff"}))):""}}]),n}(r.Component));p.defaultProps={fill:"#000",stroke:"#fff"};var f=p,b=n(24).Navbar,v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={forcedDisplay:!1},r.handleBrowserMouseMove=r.handleBrowserMouseMove.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"render",value:function(){var e,t=Object(u.e)(),n=t.autoSelectTheme?t.darkTheme:void 0,a=Object(m.a)(t.theme,n,"icon_fg"),o=Object(m.a)(t.theme,n,"icon_bg");return Object(u.o)()||(e=r.createElement(h.a,null,r.createElement(h.a.Link,{eventKey:"2",as:"div"},r.createElement(d.b,{to:"/wishes",className:"nav-link2"},r.createElement("span",{className:"glyphicon glyphicon-exclamation-sign"})," Wishes")))),r.createElement(b,{collapseOnSelect:!0,fixed:"top",className:this.state.forcedDisplay?"forcedDisplay":""},r.createElement("div",{className:"navbar-header"},r.createElement(b.Brand,{style:{float:"left",height:"50px",padding:"9px",fontSize:"18px",lineHeight:"20px"}},r.createElement(h.a.Link,{eventKey:"0",as:"div"},r.createElement(d.b,{to:"/",className:"nav-brand"},r.createElement(f,{icon:"sosml",stroke:o,fill:a,size:"28px"}),r.createElement("span",{style:{verticalAlign:"middle"}}," SOSML")))),r.createElement(b.Toggle,{"aria-controls":"basic-navbar-nav"},r.createElement("span",{className:"glyphicon glyphicon-menu-hamburger"}),r.createElement("b",null," Menu"))),r.createElement(b.Collapse,{id:"basic-navbar-nav"},r.createElement(h.a,null,r.createElement(h.a.Link,{eventKey:"1",as:"div"},r.createElement(d.b,{to:"/editor",className:"nav-link2"},r.createElement("span",{className:"glyphicon glyphicon-pencil"})," Editor"))),r.createElement(h.a,null,r.createElement(h.a.Link,{eventKey:"2",as:"div"},r.createElement(d.b,{to:"/files",className:"nav-link2"},r.createElement("span",{className:"glyphicon glyphicon-duplicate"})," Files"))),e,r.createElement("div",{className:"navbar-right"},r.createElement(h.a.Link,{eventKey:"3",as:"div"},r.createElement(d.b,{to:"/settings",className:"nav-link2"},r.createElement("span",{className:"glyphicon glyphicon-cog"})," Settings")))))}},{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this.handleBrowserMouseMove,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.handleBrowserMouseMove)}},{key:"handleBrowserMouseMove",value:function(e){if(this.isFullscreen()){if(e.pageY<10&&!this.state.forcedDisplay)this.setState({forcedDisplay:!0});else if(this.state.forcedDisplay){for(var t=e.target,n=!1;;){if("nav"===t.nodeName.toLowerCase()){n=!0;break}if(!t.parentNode)break;t=t.parentNode}n||this.setState({forcedDisplay:!1})}}else this.state.forcedDisplay&&this.setState({forcedDisplay:!1})}},{key:"isFullscreen",value:function(){return document.getElementsByTagName("body")[0].classList.contains("fullscreen")}}]),n}(r.Component),g=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.size||0,t=this.props.percentage?"%":"px",n="layout-pane",a={};return this.props.primary?n+=" layout-pane-primary":this.props.vertical?a.height="".concat(e).concat(t):a.width="".concat(e).concat(t),r.createElement("div",{className:n,style:a},this.props.children)}}]),n}(r.Component);g.defaultProps={vertical:!1,primary:!1,size:0,percentage:!1,children:[]};var y=g;function k(){if(null!==window.getSelection){var e=window.getSelection();null!==e&&e.empty?e.empty():null!==e&&e.removeAllRanges&&e.removeAllRanges()}}var E=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).container=void 0,r.splitter=void 0,r.state={secondaryPaneSize:0,resizing:!1},r.handleResize=r.handleResize.bind(Object(l.a)(r)),r.handleMouseMove=r.handleMouseMove.bind(Object(l.a)(r)),r.handleMouseUp=r.handleMouseUp.bind(Object(l.a)(r)),r.handleTouchMove=r.handleTouchMove.bind(Object(l.a)(r)),r.handleSplitterMouseDown=r.handleSplitterMouseDown.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e;if(window.addEventListener("resize",this.handleResize),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchend",this.handleMouseUp),document.addEventListener("touchmove",this.handleTouchMove),"undefined"!==typeof this.props.secondaryInitialSize)e=this.props.secondaryInitialSize;else{var t,n=this.container.getBoundingClientRect();t=this.splitter?this.splitter.getBoundingClientRect():{width:4,height:4},e=this.getSecondaryPaneSize(n,t,{left:n.left+(n.width-t.width)/2,top:n.top+(n.height-t.height)/2},!1)}this.setState({secondaryPaneSize:e})}},{key:"componentDidUpdate",value:function(e,t){t.secondaryPaneSize!==this.state.secondaryPaneSize&&this.props.onSecondaryPaneSizeChange&&this.props.onSecondaryPaneSizeChange(this.state.secondaryPaneSize),this.props.onUpdate&&this.state.secondaryPaneSize!==t.secondaryPaneSize&&this.props.onUpdate(this.state.secondaryPaneSize),t.resizing!==this.state.resizing&&(this.state.resizing?this.props.onDragStart&&this.props.onDragStart():this.props.onDragEnd&&this.props.onDragEnd())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchend",this.handleMouseUp),document.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getSecondaryPaneSize",value:function(e,t,n,r){var a,o,i,s;this.props.vertical?(a=e.height,o=t.height,i=n.top-e.top):(a=e.width,o=t.width,i=n.left-e.left),r&&(i-=o/2),i<0?i=0:i>a-o&&(i=a-o);var c=a-o-(s=1===this.props.primaryIndex?i:a-o-i);return this.props.percentage&&(s=100*s/a,c=100*c/a,o=100*o/a,a=100),c<this.props.primaryMinSize?s=Math.max(s-(this.props.primaryMinSize-c),0):s<this.props.secondaryMinSize&&(s=Math.min(a-o-this.props.primaryMinSize,this.props.secondaryMinSize)),s}},{key:"handleResize",value:function(){if(this.splitter&&!this.props.percentage){var e=this.container.getBoundingClientRect(),t=this.splitter.getBoundingClientRect(),n=this.getSecondaryPaneSize(e,t,{left:t.left,top:t.top},!1);this.setState({secondaryPaneSize:n})}}},{key:"handleMouseMove",value:function(e){if(this.state.resizing){var t=this.container.getBoundingClientRect(),n=this.splitter.getBoundingClientRect(),r=this.getSecondaryPaneSize(t,n,{left:e.clientX,top:e.clientY},!0);k(),this.setState({secondaryPaneSize:r})}}},{key:"handleTouchMove",value:function(e){this.handleMouseMove(e.changedTouches[0])}},{key:"handleSplitterMouseDown",value:function(){k(),this.setState({resizing:!0})}},{key:"handleMouseUp",value:function(){this.setState((function(e){return e.resizing?{resizing:!1}:null}))}},{key:"render",value:function(){var e=this,t="splitter-layout";this.props.customClassName&&(t+=" ".concat(this.props.customClassName)),this.props.vertical&&(t+=" splitter-layout-vertical"),this.state.resizing&&(t+=" layout-changing");var n=r.Children.toArray(this.props.children).slice(0,2);0===n.length&&n.push(r.createElement("div",null));var a=[],o=0!==this.props.primaryIndex&&1!==this.props.primaryIndex?0:this.props.primaryIndex;this.props.vertical&&(o=1-o);for(var i=0;i<n.length;++i){var s=!0,c=void 0;n.length>1&&i!==o&&(s=!1,c=this.state.secondaryPaneSize),a.push(r.createElement(y,{vertical:this.props.vertical,percentage:this.props.percentage,primary:s,size:c},n[i]))}return r.createElement("div",{className:t,ref:function(t){e.container=t}},a[0],a.length>1&&r.createElement("div",{role:"separator",className:"layout-splitter",ref:function(t){e.splitter=t},onMouseDown:this.handleSplitterMouseDown,onTouchStart:this.handleSplitterMouseDown},this.props.splitterChildren),a.length>1&&a[1])}}]),n}(r.Component);E.defaultProps={customClassName:"",vertical:!1,percentage:!1,primaryIndex:0,primaryMinSize:0,secondaryInitialSize:void 0,secondaryMinSize:0,onUpdate:null,onDragStart:null,onDragEnd:null,onSecondaryPaneSizeChange:null,children:[],splitterChildren:[]};var w=E,_=(n(123),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).mainInstance=void 0,r.state={collapseStatus:!1},r}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(e.updateAnchor!==this.props.updateAnchor&&this.mainInstance){var n=!1;this.mainInstance.clientWidth<100&&(n=!0),this.setState({collapseStatus:n})}}},{key:"render",value:function(){var e=this,t="",n="";return this.state.collapseStatus&&(n="mini-collapsed "),this.props.className&&(n+=this.props.className),this.props.footer||(t="no-content"),r.createElement("div",{className:"mini-window ".concat(n),ref:function(t){null!=t&&(e.mainInstance=t)}},r.createElement("div",{className:"window-header noselect"},r.createElement("div",{className:"window-title"},this.props.title)," ",this.props.header),r.createElement("div",{className:"window-content"},this.props.content),r.createElement("div",{className:"window-footer ".concat(t)},this.props.footer))}}]),n}(r.Component)),C=n(38),S=function(){function e(t,n){Object(o.a)(this,e),this.modeBits=t,this.numBitsCharCount=n}return Object(i.a)(e,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),e}();S.NUMERIC=new S(1,[10,12,14]),S.ALPHANUMERIC=new S(2,[9,11,13]),S.BYTE=new S(4,[8,16,16]),S.KANJI=new S(8,[8,10,12]),S.ECI=new S(7,[0,0,0]);var O=function(){function e(t,n,r){if(Object(o.a)(this,e),this.mode=t,this.numChars=n,this.bitData=r,n<0)throw new Error("Invalid argument");this.bitData=r.slice()}return Object(i.a)(e,null,[{key:"makeBytes",value:function(t){var n,r=[],a=Object(C.a)(t);try{for(a.s();!(n=a.n()).done;){j(n.value,8,r)}}catch(o){a.e(o)}finally{a.f()}return new e(S.BYTE,t.length,r)}},{key:"makeNumeric",value:function(t){if(!this.NUMERIC_REGEX.test(t))throw new Error("String contains non-numeric characters");for(var n=[],r=0;r<t.length;){var a=Math.min(t.length-r,3);j(parseInt(t.substr(r,a),10),3*a+1,n),r+=a}return new e(S.NUMERIC,t.length,n)}},{key:"makeAlphanumeric",value:function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw new Error("String contains unencodable characters in alphanumeric mode");var n,r=[];for(n=0;n+2<=t.length;n+=2){var a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));j(a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),11,r)}return n<t.length&&j(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,r),new e(S.ALPHANUMERIC,t.length,r)}},{key:"makeSegments",value:function(t){return""===t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(t){var n=[];if(t<0)throw new Error("ECI assignment value out of range");if(t<128)j(t,8,n);else if(t<16384)j(2,2,n),j(t,14,n);else{if(!(t<1e6))throw new Error("ECI assignment value out of range");j(6,3,n),j(t,21,n)}return new e(S.ECI,0,n)}},{key:"getTotalBits",value:function(e,t){var n,r=0,a=Object(C.a)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value,i=o.mode.numCharCountBits(t);if(o.numChars>=1<<i)return 1/0;r+=4+i+o.bitData.length}}catch(s){a.e(s)}finally{a.f()}return r}},{key:"toUtf8ByteArray",value:function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!==e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}}]),Object(i.a)(e,[{key:"getData",value:function(){return this.bitData.slice()}}]),e}();O.NUMERIC_REGEX=/^[0-9]*$/,O.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,O.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";var x=function e(t,n){Object(o.a)(this,e),this.ordinal=t,this.formatBits=n};x.LOW=new x(0,1),x.MEDIUM=new x(1,0),x.QUARTILE=new x(2,3),x.HIGH=new x(3,2);var N=function(){function e(t,n,r,a){if(Object(o.a)(this,e),this.version=t,this.errorCorrectionLevel=n,this.mask=a,this.size=void 0,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw new Error("Version value out of range");if(a<-1||a>7)throw new Error("Mask value out of range");this.size=4*t+17;for(var i=[],s=0;s<this.size;s++)i.push(!1);for(var c=0;c<this.size;c++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();var l=this.addEccAndInterleave(r);if(this.drawCodewords(l),-1===a)for(var h=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var u=this.getPenaltyScore();u<h&&(a=d,h=u),this.applyMask(d)}if(a<0||a>7)throw new Error("Assertion error");this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}return Object(i.a)(e,null,[{key:"encodeText",value:function(t,n){var r=O.makeSegments(t);return e.encodeSegments(r,n)}},{key:"encodeSegments",value:function(t,n){var r,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(e.MIN_VERSION<=o&&o<=i&&i<=e.MAX_VERSION)||s<-1||s>7)throw new Error("Invalid value");for(r=o;;r++){var l=8*e.getNumDataCodewords(r,n),h=O.getTotalBits(t,r);if(h<=l){a=h;break}if(r>=i)throw new Error("Data too long")}for(var d=0,u=[x.MEDIUM,x.QUARTILE,x.HIGH];d<u.length;d++){var m=u[d];c&&a<=8*e.getNumDataCodewords(r,m)&&(n=m)}var p,f=[],b=Object(C.a)(t);try{for(b.s();!(p=b.n()).done;){var v=p.value;j(v.mode.modeBits,4,f),j(v.numChars,v.mode.numCharCountBits(r),f);var g,y=Object(C.a)(v.getData());try{for(y.s();!(g=y.n()).done;){var k=g.value;f.push(k)}}catch(S){y.e(S)}finally{y.f()}}}catch(S){b.e(S)}finally{b.f()}if(f.length!==a)throw new Error("Assertion error");var E=8*e.getNumDataCodewords(r,n);if(f.length>E)throw new Error("Assertion error");if(j(0,Math.min(4,E-f.length),f),j(0,(8-f.length%8)%8,f),f.length%8!==0)throw new Error("Assertion error");for(var w=236;f.length<E;w^=253)j(w,8,f);for(var _=[];8*_.length<f.length;)_.push(0);return f.forEach((function(e,t){return _[t>>>3]|=e<<7-(7&t)})),new e(r,n,_,s)}},{key:"getNumRawDataModules",value:function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw new Error("Version number out of range");var n=(16*t+128)*t+64;if(t>=2){var r=Math.floor(t/7)+2;n-=(25*r-10)*r-55,t>=7&&(n-=36)}if(!(208<=n&&n<=29648))throw new Error("Assertion error");return n}},{key:"getNumDataCodewords",value:function(t,n){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[n.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][t]}},{key:"reedSolomonComputeDivisor",value:function(t){if(t<1||t>255)throw new Error("Degree out of range");for(var n=[],r=0;r<t-1;r++)n.push(0);n.push(1);for(var a=1,o=0;o<t;o++){for(var i=0;i<n.length;i++)n[i]=e.reedSolomonMultiply(n[i],a),i+1<n.length&&(n[i]^=n[i+1]);a=e.reedSolomonMultiply(a,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(t,n){var r,a=n.map((function(e){return 0})),o=Object(C.a)(t);try{var i=function(){var t=r.value^a.shift();a.push(0),n.forEach((function(n,r){return a[r]^=e.reedSolomonMultiply(n,t)}))};for(o.s();!(r=o.n()).done;)i()}catch(s){o.e(s)}finally{o.f()}return a}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8!==0||t>>>8!==0)throw new Error("Byte out of range");for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;if(n>>>8!==0)throw new Error("Assertion error");return n}},{key:"finderPenaltyAddHistory",value:function(e,t){t.pop(),t.unshift(e)}}]),Object(i.a)(e,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"drawCanvas",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#FFFFFF",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000000";if(e<=0||t<0)throw new Error("Value out of range");var o=(this.size+2*t)*e;n.width=o,n.height=o;for(var i=n.getContext("2d"),s=-t;s<this.size+t;s++)for(var c=-t;c<this.size+t;c++)i.fillStyle=this.getModule(c,s)?a:r,i.fillRect((c+t)*e,(s+t)*e,e,e)}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2===0),this.setFunctionModule(e,6,e%2===0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,r=0;r<n;r++)for(var a=0;a<n;a++)0===r&&0===a||0===r&&a===n-1||r===n-1&&0===a||this.drawAlignmentPattern(t[r],t[a]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var a=21522^(t<<10|n);if(a>>>15!==0)throw new Error("Assertion error");for(var o=0;o<=5;o++)this.setFunctionModule(8,o,M(a,o));this.setFunctionModule(8,7,M(a,6)),this.setFunctionModule(8,8,M(a,7)),this.setFunctionModule(7,8,M(a,8));for(var i=9;i<15;i++)this.setFunctionModule(14-i,8,M(a,i));for(var s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,M(a,s));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,M(a,c));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;if(n>>>18!==0)throw new Error("Assertion error");for(var r=0;r<18;r++){var a=M(n,r),o=this.size-11+r%3,i=Math.floor(r/3);this.setFunctionModule(o,i,a),this.setFunctionModule(i,o,a)}}}},{key:"drawFinderPattern",value:function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var a=Math.max(Math.abs(r),Math.abs(n)),o=e+r,i=t+n;0<=o&&o<this.size&&0<=i&&i<this.size&&this.setFunctionModule(o,i,2!==a&&4!==a)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!==Math.max(Math.abs(r),Math.abs(n)))}},{key:"setFunctionModule",value:function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(t){var n=this.version,r=this.errorCorrectionLevel;if(t.length!==e.getNumDataCodewords(n,r))throw new Error("Invalid argument");for(var a=e.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=e.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],i=Math.floor(e.getNumRawDataModules(n)/8),s=a-i%a,c=Math.floor(i/a),l=[],h=e.reedSolomonComputeDivisor(o),d=0,u=0;d<a;d++){var m=t.slice(u,u+c-o+(d<s?0:1));u+=m.length;var p=e.reedSolomonComputeRemainder(m,h);d<s&&m.push(0),l.push(m.concat(p))}for(var f=[],b=function(e){l.forEach((function(t,n){(e!==c-o||n>=s)&&f.push(t[e])}))},v=0;v<l[0].length;v++)b(v);if(f.length!==i)throw new Error("Assertion error");return f}},{key:"drawCodewords",value:function(t){if(t.length!==Math.floor(e.getNumRawDataModules(this.version)/8))throw new Error("Invalid argument");for(var n=0,r=this.size-1;r>=1;r-=2){6===r&&(r=5);for(var a=0;a<this.size;a++)for(var o=0;o<2;o++){var i=r-o,s=0===(r+1&2)?this.size-1-a:a;!this.isFunction[s][i]&&n<8*t.length&&(this.modules[s][i]=M(t[n>>>3],7-(7&n)),n++)}}if(n!==8*t.length)throw new Error("Assertion error")}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new Error("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2===0;break;case 1:r=t%2===0;break;case 2:r=n%3===0;break;case 3:r=(n+t)%3===0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2===0;break;case 5:r=n*t%2+n*t%3===0;break;case 6:r=(n*t%2+n*t%3)%2===0;break;case 7:r=((n+t)%2+n*t%3)%2===0;break;default:throw new Error("Assertion error")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}},{key:"getPenaltyScore",value:function(){for(var t=0,n=0;n<this.size;n++){for(var r=!1,a=0,o=[0,0,0,0,0,0,0],i=this.size,s=0;s<this.size;s++)this.modules[n][s]===r?5===++a?t+=e.PENALTY_N1:a>5&&t++:(e.finderPenaltyAddHistory(a+i,o),i=0,r||(t+=this.finderPenaltyCountPatterns(o)*e.PENALTY_N3),r=this.modules[n][s],a=1);t+=this.finderPenaltyTerminateAndCount(r,a+i,o)*e.PENALTY_N3}for(var c=0;c<this.size;c++){for(var l=!1,h=0,d=[0,0,0,0,0,0,0],u=this.size,m=0;m<this.size;m++)this.modules[m][c]===l?5===++h?t+=e.PENALTY_N1:h>5&&t++:(e.finderPenaltyAddHistory(h+u,d),u=0,l||(t+=this.finderPenaltyCountPatterns(d)*e.PENALTY_N3),l=this.modules[m][c],h=1);t+=this.finderPenaltyTerminateAndCount(l,h+u,d)*e.PENALTY_N3}for(var p=0;p<this.size-1;p++)for(var f=0;f<this.size-1;f++){var b=this.modules[p][f];b===this.modules[p][f+1]&&b===this.modules[p+1][f]&&b===this.modules[p+1][f+1]&&(t+=e.PENALTY_N2)}var v,g=0,y=Object(C.a)(this.modules);try{for(y.s();!(v=y.n()).done;){var k,E=v.value,w=Object(C.a)(E);try{for(w.s();!(k=w.n()).done;){k.value&&g++}}catch(S){w.e(S)}finally{w.f()}}}catch(S){y.e(S)}finally{y.f()}var _=this.size*this.size;return t+=(Math.ceil(Math.abs(20*g-10*_)/_)-1)*e.PENALTY_N4}},{key:"getAlignmentPatternPositions",value:function(){if(1===this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32===this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];if(t>3*this.size)throw new Error("Assertion error");var n=t>0&&e[2]===t&&e[3]===3*t&&e[4]===t&&e[5]===t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(t,n,r){return t&&(e.finderPenaltyAddHistory(n,r),n=0),n+=this.size,e.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)}}]),e}();function j(e,t,n){if(t<0||t>31||e>>>t!==0)throw new Error("Value out of range");for(var r=t-1;r>=0;r--)n.push(e>>>r&1)}function M(e,t){return 0!==(e>>>t&1)}N.MIN_VERSION=1,N.MAX_VERSION=40,N.PENALTY_N1=3,N.PENALTY_N2=3,N.PENALTY_N3=40,N.PENALTY_N4=10,N.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],N.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];var T=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.link?r.createElement("div",{className:"qr"},this.renderCode(this.props.link)):r.createElement("div",null)}},{key:"renderCode",value:function(e){for(var t=N.encodeText(e,x.HIGH),n=2+t.size,a=n/2,o=Object(u.e)(),i=o.autoSelectTheme?o.darkTheme:void 0,s=Object(m.a)(o.theme,i,"qr_bg"),c=Object(m.a)(o.theme,i,"qr_fg"),l="0 0 ".concat(n," ").concat(n),h=[],d=0;d<t.size;d++)for(var p=0;p<t.size;p++)t.getModule(p,d)&&h.push("M".concat(p+1,",").concat(d+1,"h1v1h-1z"));return r.createElement("svg",{viewBox:l},r.createElement("rect",{width:"100%",height:"100%",fill:s}),r.createElement("path",{d:h.join(" "),fill:c}),r.createElement("circle",{cx:a,cy:a,r:n/6,stroke:s,strokeWidth:n/51,fill:s}),r.createElement("circle",{cx:a,cy:a,r:n/6-n/51,stroke:c,strokeWidth:n/51,fill:s}),r.createElement("circle",{cx:a,cy:a,r:n/17,stroke:c,strokeWidth:n/51,fill:c}),r.createElement("circle",{cx:a-n/20,cy:a-n/20-n/51,r:n/25,stroke:c,strokeWidth:n/51,fill:s}))}}]),n}(r.Component),R=n(24).Modal,L=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).closeShareModal=r.closeShareModal.bind(Object(l.a)(r)),r.formContract=r.formContract.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"render",value:function(){if(this.props.error)return this.props.enocontract?r.createElement(R,{show:!0,onHide:this.closeShareModal},r.createElement(R.Header,{closeButton:!1},r.createElement(R.Title,null,"Share Link Creation Failed")),r.createElement(R.Body,null,"Creating a share link for your code failed.",r.createElement("br",null),"But I think only other ",r.createElement("em",null,"Magical Users")," have the right to criticize that."),r.createElement(R.Footer,null,r.createElement("button",{className:"btn btn-suc-alt",type:"button",onClick:this.formContract},"Become a ",r.createElement("em",null,"Magical User")),r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:this.closeShareModal},"Close"))):r.createElement(R,{show:!0,onHide:this.closeShareModal},r.createElement(R.Header,{closeButton:!1},r.createElement(R.Title,null,"Share Link Creation Failed")),r.createElement(R.Body,null,"Creating a share link for your code failed.",r.createElement("br",null),"Please try again later."),r.createElement(R.Footer,null,r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:this.closeShareModal},"Close")));var e={margin:"10px 0 0 0"};return r.createElement(R,{show:!0,onHide:this.closeShareModal},r.createElement(R.Header,{closeButton:!1},r.createElement(R.Title,null,"Share Link Creation Successful")),r.createElement(R.Body,null,r.createElement(T,{link:this.props.link}),r.createElement("div",{className:"input-group"},r.createElement("input",{type:"text",className:"form-control js-copytextarea",value:this.props.link,readOnly:!0}),r.createElement("span",{className:"input-group-btn"},r.createElement("button",{className:"btn btn-def-alt",onClick:this.copyShareLink,type:"button"},r.createElement("span",{className:"glyphicon glyphicon-copy"})))),r.createElement("p",{className:"text-justify",style:e},"Use the above link to share your code.",r.createElement("br",null),r.createElement("b",null,"Attention:")," The link refers to a read-only version of your code. To share a modified version of your code, please create a new share link.")),r.createElement(R.Footer,null,r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:this.closeShareModal},"Close")))}},{key:"formContract",value:function(){this.props.formContractCallback()}},{key:"closeShareModal",value:function(){this.props.closeCallback()}},{key:"copyShareLink",value:function(){document.querySelector(".js-copytextarea").select(),document.execCommand("copy")}}]),n}(r.Component),A=n(24).Modal,F=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).closeShareModal=r.closeShareModal.bind(Object(l.a)(r)),r.createContract=r.createContract.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"render",value:function(){return r.createElement(A,{show:!0,onHide:this.closeShareModal},r.createElement(A.Header,{closeButton:!1},r.createElement(A.Title,null,"Form an ",r.createElement("em",null,"Agreement")," with me and become a ",r.createElement("em",null,"Magical User"))),r.createElement(A.Body,null,"If you want others to have an easy way to access your code, you may form an ",r.createElement("em",null,"Agreement")," with me and become a ",r.createElement("em",null,"Magical User"),".",r.createElement("br",null),r.createElement("br",null),"Once you are a ",r.createElement("em",null,"Magical User")," you may upload your code to the servers of Saarland University. By uploading a file to the servers of Saarland University, you grant Saarland University and the ",r.createElement("a",{href:"https://github.com/SOSML"}," SOSML Developers "),"a non-exclusive, worldwide, royalty-free, sub-licensable, and transferable license to use, publish, and create derivative works of your uploaded file.",r.createElement("br",null),"Further, the availability of your uploaded files is not guaranteed."),r.createElement(A.Footer,null,r.createElement("button",{className:"btn btn-suc-alt",onClick:this.createContract,type:"button"},"I accept. Turn me into a ",r.createElement("em",null,"Magical User")),r.createElement("button",{className:"btn btn-def-alt",onClick:this.closeShareModal,type:"button"},"I will decide later.")))}},{key:"createContract",value:function(){this.props.createCallback()}},{key:"closeShareModal",value:function(){this.props.closeCallback()}}]),n}(r.Component),W=(n(124),n(35));n(125),n(126),n(127),n(107),n(128),n(129),n(130);var z=function(){function e(t){Object(o.a)(this,e),this.cm=void 0,this.cm=t}return Object(i.a)(e,[{key:"getCode",value:function(e){return this.cm.getRange(e,{line:this.cm.lineCount()+1,ch:0},"\n")}},{key:"getValue",value:function(){return this.cm.getValue()}},{key:"markText",value:function(e,t,n){return this.cm.markText(e,t,{className:n})}}]),e}(),H=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Object(o.a)(this,e),this.markers=void 0,this.outputCallback=void 0,this.disabled=void 0,this.worker=void 0,this.codemirror=void 0,this.workerTimeout=void 0,this.timeout=void 0,this.wasTerminated=void 0,this.partialOutput=void 0,this.interpreterSettings=void 0,this.initialExtraCode=void 0,this.afterExtraCode=void 0,this.interpreterSettings=n,this.disabled=!1,this.outputCallback=t,this.initialExtraCode=r,this.afterExtraCode=a,this.markers={},this.worker=new Worker("/SOOCaml-frontend/webworker.js"),this.worker.onmessage=this.onWorkerMessage.bind(this),this.workerTimeout=null,this.wasTerminated=!0,this.partialOutput="",this.timeout=5e3}return Object(i.a)(e,[{key:"setTimeout",value:function(e){this.timeout=e}},{key:"restartWorker",value:function(){this.worker.terminate(),this.worker=new Worker("/SOOCaml-frontend/webworker.js"),this.worker.onmessage=this.onWorkerMessage.bind(this)}},{key:"onWorkerMessage",value:function(e){var t=e.data;if("getcode"===t.type)this.worker.postMessage({type:"code",data:this.codemirror.getCode(t.data)});else if("markText"===t.type){var n=t.data,r=this.codemirror.markText(n.from,n.to,n.style);this.markers[n.id]=r}else if("clearMarker"===t.type){var a=t.data.id;this.markers[a]&&(this.markers[a].clear(),delete this.markers[a])}else"partial"===t.type?(console.log("Partial output",this.partialOutput),this.outputCallback(this.partialOutput,!1),this.startTimeout()):"ping"!==t.type&&"finished"!==t.type||(this.outputCallback(this.partialOutput,!0),this.partialOutput="",null!==this.workerTimeout&&(clearTimeout(this.workerTimeout),this.workerTimeout=null))}},{key:"clear",value:function(){this.worker.postMessage({type:"clear",data:""})}},{key:"disable",value:function(){this.disabled=!0,this.clear()}},{key:"enable",value:function(){this.disabled=!1}},{key:"handleChangeAt",value:function(e,t,n,r){if(!this.disabled){this.codemirror=r;var a=r.getValue().trim().split(";;").filter((function(e){return""!==e}));this.partialOutput="";var o,i=!0,s=Object(C.a)(a);try{for(s.s();!(o=s.n()).done;){var c=o.value,l="";try{l=evaluator.execute(c+";;")}catch(h){}this.partialOutput+="\\"+(i?"1":"2")+"> "+l,this.outputCallback(this.partialOutput,!1),i=!i}}catch(d){s.e(d)}finally{s.f()}this.outputCallback(this.partialOutput,!0),this.partialOutput="",null!==this.workerTimeout&&(clearTimeout(this.workerTimeout),this.workerTimeout=null)}}},{key:"startTimeout",value:function(){var e=this;null!==this.workerTimeout&&clearTimeout(this.workerTimeout),this.workerTimeout=setTimeout((function(){e.restartWorker();var t="",n="Execution terminated due to time limit violation";t=""===e.partialOutput.trim()?n:e.partialOutput.endsWith("\n")?e.partialOutput+n:e.partialOutput+"\n"+n,e.outputCallback(t,!1),e.workerTimeout=null,e.clearAllMarkers(),e.wasTerminated=!0,e.partialOutput=""}),this.timeout+400)}},{key:"clearAllMarkers",value:function(){for(var e in this.markers)this.markers.hasOwnProperty(e)&&this.markers[e].clear();this.markers={}}}]),e}();var P=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).editor=void 0,r.codeMirrorInstance=void 0,r.evalHelper=void 0,void 0!==r.props.interpreterSettings?r.evalHelper=new H(r.props.outputCallback,JSON.stringify(r.props.interpreterSettings),r.props.beforeCode,r.props.afterCode):r.evalHelper=new H(r.props.outputCallback,localStorage.getItem("interpreterSettings"),r.props.beforeCode,r.props.afterCode),r.handleChangeEvent=r.handleChangeEvent.bind(Object(l.a)(r)),r.state={isFocused:!1},r}return Object(i.a)(n,[{key:"focus",value:function(){this.codeMirrorInstance&&this.codeMirrorInstance.focus()}},{key:"focusChanged",value:function(e){this.setState({isFocused:e}),this.props.onFocusChange&&this.props.onFocusChange(e)}},{key:"render",value:function(){var e=this;this.evalHelper.setTimeout(this.props.timeout);var t="ReactCodeMirror";this.props.flex&&(t+=" flexy flexcomponent"),this.state.isFocused&&(t+=" ReactCodeMirror--focused");var n="";return this.props.code&&(n=this.props.code),r.createElement("div",{className:t},r.createElement("textarea",{ref:function(t){e.editor=t},defaultValue:n,autoComplete:"off"}))}},{key:"componentDidUpdate",value:function(e,t){e.readOnly!==this.props.readOnly&&(this.codeMirrorInstance.options.readOnly=this.props.readOnly,this.codeMirrorInstance.refresh()),e.code!==this.props.code&&this.editor&&(this.codeMirrorInstance.setValue(this.props.code),this.props.onChange&&this.props.onChange(this.props.code))}},{key:"componentDidMount",value:function(){var e=Object(u.e)().autoIndent,t={lineNumbers:!0,mode:"text/sml",indentUnit:2,smartIndent:e,tabSize:2,matchBrackets:!0,lineWrapping:!0,inputStyle:"contenteditable",readOnly:!!this.props.readOnly,foldGutter:{minFoldSize:2},gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],specialChars:new RegExp("[\0-\x1f\x7f-\x9f\xa0\xad\u061c\u1680\u2000-\u200f\u2028\u2029\u202f\u205f\u3000\ufeff\ufff9-\ufffc]"),specialCharPlaceholder:function(e){return function(e,t,n){var r=document.createElement(e);if(n&&(r.className=n),"string"===typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)r.appendChild(t[a]);return r}("span",e.charCodeAt(0).toString(16).toUpperCase(),"cm-label")},extraKeys:{Enter:function(t){e?t.execCommand("newlineAndIndent"):t.replaceSelection("\n")},Tab:function(e){return e.somethingSelected()?e.indentSelection("add"):W.commands.insertSoftTab(e)},"Shift-Tab":"indentLess","Alt-Tab":"indentAuto"}};this.codeMirrorInstance=W.fromTextArea(this.editor,t),this.codeMirrorInstance.on("change",this.handleChangeEvent),this.codeMirrorInstance.on("focus",this.focusChanged.bind(this,!0)),this.codeMirrorInstance.on("blur",this.focusChanged.bind(this,!1)),this.evalHelper.clear(),this.evalHelper.handleChangeAt({line:0,ch:0,sticky:null},[""],[""],new z(this.codeMirrorInstance))}},{key:"componentWillUnmount",value:function(){this.codeMirrorInstance.off("change",this.handleChangeEvent),this.codeMirrorInstance.off("focus",this.focusChanged.bind(this,!0)),this.codeMirrorInstance.off("blur",this.focusChanged.bind(this,!1))}},{key:"handleChangeEvent",value:function(e,t){this.evalHelper.handleChangeAt(t.from,t.text,t.removed,new z(e)),this.props.onChange&&this.props.onChange(e.getValue())}}]),n}(r.Component),I=n(43),B=(n(131),function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,null,[{key:"shareWish",value:function(t){return void 0!==e.LAST_SHARE&&(new Date).getTime()-e.LAST_SHARE.getTime()<=15e3?Promise.reject("Please wait a little until you try to share again."):(e.LAST_SHARE=new Date,fetch("/api/wishare/",{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then((function(e){return e.ok?e.text():Promise.reject(e.status)})))}},{key:"loadSharedWish",value:function(e){return fetch("/api/wishare/"+e,{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"shareCode",value:function(t){return void 0!==e.LAST_SHARE&&(new Date).getTime()-e.LAST_SHARE.getTime()<=15e3?Promise.reject("Please wait a little until you try to share again."):(e.LAST_SHARE=new Date,fetch("/api/share/",{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({code:t})}).then((function(e){return e.ok?e.text():Promise.reject(e.status)})))}},{key:"loadSharedCode",value:function(e){return fetch("/api/share/"+e,{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.text():Promise.reject(e.status)}))}},{key:"getPublicWishList",value:function(){return fetch("/api/wishlist/",{headers:{Accept:"text/json","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return e.codes.map((function(e){return e.replace(".wish.json","")}))}))}},{key:"getPublicWish",value:function(e){return fetch("/api/wish/"+e.replace(/\//g,"%2F"),{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))}},{key:"getCodeExamplesList",value:function(){return fetch("/api/list/",{headers:{Accept:"text/json","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return e.codes.map((function(e){return e.replace(".sml","")}))}))}},{key:"getCodeExample",value:function(e){return fetch("/api/code/"+e.replace(/\//g,"%2F"),{headers:{Accept:"text/plain","Content-Type":"application/json"},method:"GET"}).then((function(e){return e.ok?e.text():Promise.reject(e.status)}))}}]),e}());B.EMULATE=!1,B.LAST_SHARE=void 0;var D=n(22),U=["\\*","\\_"],V=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={reset:!1,output:"",code:"",sizeAnchor:0,shareLink:"",formContract:!1,interfaceSettings:Object(u.e)()},r.clearCodeWindow=r.clearCodeWindow.bind(Object(l.a)(r)),r.handleLeftResize=r.handleLeftResize.bind(Object(l.a)(r)),r.handleRightResize=r.handleRightResize.bind(Object(l.a)(r)),r.handleCodeChange=r.handleCodeChange.bind(Object(l.a)(r)),r.handleSplitterUpdate=r.handleSplitterUpdate.bind(Object(l.a)(r)),r.handleBrowserResize=r.handleBrowserResize.bind(Object(l.a)(r)),r.handleOutputChange=r.handleOutputChange.bind(Object(l.a)(r)),r.handleShare=r.handleShare.bind(Object(l.a)(r)),r.handleShareWrapper=r.handleShareWrapper.bind(Object(l.a)(r)),r.modalCloseCallback=r.modalCloseCallback.bind(Object(l.a)(r)),r.modalFormContractCallback=r.modalFormContractCallback.bind(Object(l.a)(r)),r.modalCreateContractCallback=r.modalCreateContractCallback.bind(Object(l.a)(r)),r.handleBrowserKeyup=r.handleBrowserKeyup.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t="",n=Object(u.e)(),a=void 0===this.props.interpreterSettings?Object(u.f)():this.props.interpreterSettings,o=n.autoSelectTheme?n.darkTheme:void 0;void 0===o?(t+=".eval-fail { background-color: "+this.state.interfaceSettings.errorColor+" !important; }",t+=".eval-success { background-color: "+this.state.interfaceSettings.successColor1+" !important; }",t+=".eval-success-odd { background-color: "+this.state.interfaceSettings.successColor2+" !important; }"):(t+=".eval-fail { background-color: "+Object(m.a)(n.theme,o,"error")+" !important; }",t+=".eval-success { background-color: "+Object(m.a)(n.theme,o,"success")+" !important; }",t+=".eval-success-odd { background-color: "+Object(m.a)(n.theme,o,"success_alt")+" !important; }");var i=this.state.output;i.endsWith("\n")&&(i=i.substr(0,i.length-1));var s=i.split("\n"),c=0,l=0,h=[];s.map((function(t){var n=e.parseLine(t,c++,l);if(l!==n[1]&&n[2]>a.showUsedTimeWhenAbove&&a.showUsedTimeWhenAbove>-1){var o=r.createElement("pre",{style:{padding:0,display:"inline",margin:0,borderRadius:0,fontSize:"70%",float:"right",border:"0"},className:e.getHighlightForColor(n[1]),key:c+"@time"},"\xa0"+n[2]+"ms");h.push(o)}return l=n[1],h.push(n[0]),0}));var d,p=this.props.initialCode;this.state.reset&&(p="",this.setState({reset:!1})),""!==this.state.shareLink&&(d=this.state.formContract?r.createElement(F,{closeCallback:this.modalCloseCallback,createCallback:this.modalCreateContractCallback}):r.createElement(L,{error:":ERROR"===this.state.shareLink||":ERROR_CONTRACT"===this.state.shareLink,link:this.state.shareLink,closeCallback:this.modalCloseCallback,enocontract:":ERROR_CONTRACT"===this.state.shareLink,formContractCallback:this.modalFormContractCallback}));var f,b,v=r.createElement("div",{className:"miniSpacer"});!this.props.readOnly&&D.d&&(f=r.createElement(I.a,{size:"sm",className:"btn btn-pri-alt",onClick:this.handleShareWrapper},r.createElement("div",{className:"glyphicon glyphicon-link"})," Share")),void 0!==this.props.onReset&&(b=r.createElement(I.a,{size:"sm",className:"button btn-dng-alt",onClick:this.clearCodeWindow},r.createElement("span",{className:"glyphicon glyphicon-repeat"})," Reset"));var g={marginRight:"-3px",marginTop:"-.5px"},y=r.createElement("div",{className:"inlineBlock",style:g},b,void 0!==this.props.onReset&&void 0!==this.props.fileControls?v:"",this.props.fileControls,v,f),k=window.innerWidth>0?window.innerWidth:window.screen.width,E=window.innerHeight>0?window.innerHeight:window.screen.height,C=r.createElement("div",{className:"flexcomponent flexy"},r.createElement(_,{content:r.createElement(P,{flex:!0,onChange:this.handleCodeChange,code:p,readOnly:this.props.readOnly,outputCallback:this.handleOutputChange,interpreterSettings:this.props.interpreterSettings,beforeCode:this.props.beforeCode,afterCode:this.props.afterCode,timeout:this.state.interfaceSettings.timeout}),header:r.createElement("div",{className:"headerButtons"},y),title:"SML",className:"flexy",updateAnchor:this.state.sizeAnchor})),S=r.createElement("div",{className:"flexcomponent flexy"},r.createElement(_,{content:r.createElement("div",null,h),title:"Output",className:"flexy",updateAnchor:this.state.sizeAnchor})),O=k<E&&Object(u.e)().useMobile;return r.createElement("div",{className:"playground"},r.createElement("style",null,t),r.createElement(w,{vertical:O,onUpdate:this.handleSplitterUpdate,primaryIndex:0,percentage:!0},C,S),d)}},{key:"modalCloseCallback",value:function(){this.setState({shareLink:"",formContract:!1})}},{key:"modalFormContractCallback",value:function(){this.setState({formContract:!0})}},{key:"modalCreateContractCallback",value:function(){this.setState({formContract:!1,shareLink:""}),void 0!==this.state.interfaceSettings.userContributesEnergy&&(this.state.interfaceSettings.userContributesEnergy=!0,localStorage.setItem("interfaceSettings",JSON.stringify(this.state.interfaceSettings))),this.handleShare(!0)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleBrowserResize,{passive:!0}),window.addEventListener("keyup",this.handleBrowserKeyup,{passive:!0});var e=Object(u.e)();this.setState({interfaceSettings:e}),e.fullscreen&&this.getBodyClassList().add("fullscreen")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleBrowserResize),window.removeEventListener("keyup",this.handleBrowserKeyup),this.getBodyClassList().remove("fullscreen")}},{key:"handleSplitterUpdate",value:function(e){this.setState({sizeAnchor:e})}},{key:"handleLeftResize",value:function(){}},{key:"handleRightResize",value:function(){}},{key:"handleBrowserResize",value:function(){-2===this.state.sizeAnchor?this.setState({sizeAnchor:-1}):this.setState({sizeAnchor:-2}),this.props.onResize&&this.props.onResize()}},{key:"handleBrowserKeyup",value:function(e){var t=!1;"Escape"===e.key?(this.getBodyClassList().remove("fullscreen"),t=!1):"F11"===e.key&&(this.getBodyClassList().contains("fullscreen")?(this.getBodyClassList().remove("fullscreen"),t=!1):(this.getBodyClassList().add("fullscreen"),t=!0)),void 0!==this.state.interfaceSettings.fullscreen&&(this.state.interfaceSettings.fullscreen=t,localStorage.setItem("interfaceSettings",JSON.stringify(this.state.interfaceSettings)))}},{key:"handleCodeChange",value:function(e){this.setState((function(t){return{code:e}})),this.props.onCodeChange&&this.props.onCodeChange(e)}},{key:"handleOutputChange",value:function(e,t){t||this.setState((function(t){return{output:e}})),void 0!==this.props.outputCallback&&this.props.outputCallback(e,t)}},{key:"handleShareWrapper",value:function(){this.handleShare(!1)}},{key:"handleShare",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.interfaceSettings.userContributesEnergy||t?B.shareCode(this.state.code).then((function(t){e.setState((function(e){return{shareLink:window.location.host+"/share/"+t}})),u.a.getInstance().then((function(n){return n.saveShare(t,e.state.code,!0)}))})).catch((function(){e.setState({shareLink:":ERROR"})})):this.setState({shareLink:":ERROR_CONTRACT"})}},{key:"clearCodeWindow",value:function(){this.setState({reset:!0}),this.render(),void 0!==this.props.onReset&&this.props.onReset()}},{key:"getBodyClassList",value:function(){return document.getElementsByTagName("body")[0].classList}},{key:"getHighlightForColor",value:function(e){switch(e){case 1:return"eval-success";case 2:return"eval-success-odd";case 3:return"eval-fail"}return""}},{key:"parseLine",value:function(e,t,n){var a=0,o=-1,i=[];if(e.startsWith("@")){var s=(e=e.substring(1)).indexOf("@");s>=0&&s<e.length?(o=+e.substr(0,s),e=e.substr(s+1)):e="@"+e}for(e.startsWith("\\1")?(e=e.substring(2),n=1):e.startsWith("\\2")?(e=e.substring(2),n=2):e.startsWith("\\3")&&(e=e.substring(2),n=3),e=e.replaceAll(" ","\xa0");;){for(var c=U.map((function(t){return e.indexOf(t,a)})),l=c[0],h=0,d=0;d<c.length;d++)-1!==c[d]&&(c[d]<l||-1===l)&&(l=c[d],h=d);if(-1===l){var u=e.substring(a);u.length>0&&i.push(u.replace(/\\\\/g,"\\"));break}var m=U[h],p=e.substring(a,l);p.length>0&&i.push(p.replace(/\\\\/g,"\\"));var f=e.indexOf(m,l+2);-1===f&&(f=e.length-1);var b=e.substring(l+2,f).replace(/\\\\/g,"\\");"\\*"===m?i.push(r.createElement("b",{key:a},b)):i.push(r.createElement("i",{key:a},b)),a=f+2}var v="pre-reset ";return this.state.interfaceSettings.outputHighlight&&(v+=this.getHighlightForColor(n)),0===i.length?[r.createElement("pre",{className:v,key:e+t++},r.createElement("div",{className:"miniSpacer"})),n,o]:[r.createElement("pre",{className:v,key:e+t++,style:{overflow:"visible"}},i),n,o]}}]),n}(r.Component),q=n(99),J=n(108),Y=(n(132),void 0),G=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(o.a)(this,n),r=t.call(this,e);var a=window.innerWidth>0?window.innerWidth:window.screen.width,i=window.innerHeight>0?window.innerHeight:window.screen.height;return r.state={shareReadMode:!1,code:"",fileName:"",initialCode:"",shareHash:"",savedFeedback:0,savedFeedbackTimer:null,error:"",width:i>a?a:a/2,requiredVersion:-1},r.onResize=r.onResize.bind(Object(l.a)(r)),r.handleCodeChange=r.handleCodeChange.bind(Object(l.a)(r)),r.handleFileNameChange=r.handleFileNameChange.bind(Object(l.a)(r)),r.handleRedirectToEdit=r.handleRedirectToEdit.bind(Object(l.a)(r)),r.handleSave=r.handleSave.bind(Object(l.a)(r)),r.handleFormSubmit=r.handleFormSubmit.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"extractVersion",value:function(e){var t=/^\(\*.*SOSML>=(\d{1,8}).*\*\)/i;if(-1!==e.search(t)){var n=e.match(t);if(null!==n&&null!==n[1])return+n[1]}return-1}},{key:"componentDidMount",value:function(){var e=this;if(this.props.location&&this.props.location.search){var t=this.props.location.search.split(/[?|&]/),n=decodeURI(this.props.location.search.substr(2+t[1].length));if(t.length<2||isNaN(+t[1]))return;var r=+t[1];Object(u.l)(r);var a=r+"/"+n;u.a.getInstance().then((function(e){return e.getFile(a,!0)})).then((function(t){e.setState((function(r){return{initialCode:t,fileName:n,requiredVersion:e.extractVersion(t)}}))}))}else{if(this.props.history&&this.props.history.location.state){var o=this.props.history.location.state;if(o.fileName)return void(o.example?B.getCodeExample(o.fileName):u.a.getInstance().then((function(e){return e.getFile(o.fileName)}))).then((function(t){e.setState((function(n){return{initialCode:t,fileName:o.fileName,shareReadMode:o.shareReadMode,shareHash:o.shareReadMode?o.fileName:void 0,requiredVersion:e.extractVersion(t)}}))}));if(o.shareHash)return void u.a.getInstance().then((function(e){return e.getFile(o.shareHash,!1,!0)})).then((function(t){e.setState((function(n){return{initialCode:t,fileName:o.shareHash,shareReadMode:!1,requiredVersion:e.extractVersion(t)}}))})).catch((function(t){B.loadSharedCode(o.shareHash).then((function(t){e.setState((function(n){return{initialCode:t,requiredVersion:e.extractVersion(t)}})),u.a.getInstance().then((function(e){return e.saveShare(o.shareHash,t,!1)}))})).catch((function(t){e.setState({error:t})}))}))}if(this.props.match&&this.props.match.params&&this.props.match.params.hash){var i=this.props.match.params.hash;u.a.getInstance().then((function(e){return e.getFile(i,!1,!0)})).then((function(t){e.setState((function(n){return{initialCode:t,shareReadMode:!0,shareHash:i,requiredVersion:e.extractVersion(t)}}))})).catch((function(t){B.loadSharedCode(i).then((function(t){e.setState((function(n){return{initialCode:t,shareReadMode:!0,shareHash:i,requiredVersion:e.extractVersion(t)}})),u.a.getInstance().then((function(e){return e.saveShare(i,t,!1)}))})).catch((function(t){e.setState({error:t})}))}))}else{var s=Object(u.g)();if(void 0!==Y||void 0!==s){var c="",l="";return void 0!==Y?(c=Y,l=Object(u.h)()+"/"+Y):void 0!==s&&(c=s.substr(s.indexOf("/")+1),l=s),void u.a.getInstance().then((function(e){return e.getFile(l,!0)})).then((function(t){e.setState((function(n){return{initialCode:t,fileName:c,requiredVersion:e.extractVersion(t)}}))}))}}}}},{key:"render",value:function(){var e,t,n=this,a="";if(this.state.requiredVersion>0&&(a=r.createElement(q.a,{variant:"danger",style:{margin:"0 3px 3px"}},r.createElement("b",null,"Warning: "),"The current code requires at least version ",this.state.requiredVersion," of SOSML. It may not work correctly in your version of SOSML (version ",0,").",r.createElement("div",{className:"miniSpacer"}))),this.state.error&&(a=r.createElement(q.a,{variant:"danger",style:{margin:"0 3px 3px"}},r.createElement("b",null,"Error: "),"The specified file was not found.",r.createElement("div",{className:"miniSpacer"}),r.createElement(I.a,{className:"button btn-dng-alt",onClick:function(e){n.setState({error:""})}},"Dismiss"))),this.state.shareReadMode)e=r.createElement(q.a,{variant:"info",style:{margin:"0 3px 3px"}},r.createElement("b",null,"Warning: "),"You are viewing a read-only file.",r.createElement("div",{className:"miniSpacer"}),r.createElement(I.a,{className:"button btn-suc-alt",onClick:this.handleRedirectToEdit},"Create an editable copy"));else{var o={},i=Object(u.e)(),s=i.autoSelectTheme?i.darkTheme:void 0;1===this.state.savedFeedback?o.backgroundColor=Object(m.a)(i.theme,s,"success"):2===this.state.savedFeedback&&(o.backgroundColor=Object(m.a)(i.theme,s,"error")),o.maxWidth=this.state.width-220,t=r.createElement(J.a,{inline:!0,className:"inlineBlock",onSubmit:this.handleFormSubmit},r.createElement("input",{className:"form-control",type:"text",value:this.state.fileName,onChange:this.handleFileNameChange,style:o,placeholder:"File name"}),r.createElement(I.a,{size:"sm",className:"button btn-pri-alt",onClick:this.handleSave},r.createElement("span",{className:"glyphicon glyphicon-file"})," Store"))}return r.createElement("div",{className:"flexy flexcomponent"},a,e,r.createElement(V,{readOnly:this.state.shareReadMode,onCodeChange:this.handleCodeChange,onResize:this.onResize,initialCode:this.state.initialCode,fileControls:t}))}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.handleSave()}},{key:"handleRedirectToEdit",value:function(){this.props.history.push("/editor",{shareHash:this.state.shareHash})}},{key:"handleFileNameChange",value:function(e){var t=e.target.value;this.setState((function(e){return{fileName:t}}))}},{key:"restartFeedbackClear",value:function(e){var t=this;null!==this.state.savedFeedbackTimer&&clearTimeout(this.state.savedFeedbackTimer);var n=setTimeout((function(){t.setState({savedFeedback:0,savedFeedbackTimer:null})}),1300);this.setState({savedFeedback:e,savedFeedbackTimer:n})}},{key:"handleSave",value:function(){var e=this,t=this.state.fileName.trim();""!==t?u.a.getInstance().then((function(n){return n.saveFile(t,e.state.code)})).then((function(){e.restartFeedbackClear(1)})).catch((function(){e.restartFeedbackClear(2)})):this.restartFeedbackClear(2)}},{key:"handleCodeChange",value:function(e){var t=this;this.state.shareReadMode||(this.setState((function(n){return{code:e,requiredVersion:t.extractVersion(e)}})),this.props.history.replace("/editor?"+Object(u.h)()+"&"+this.state.fileName),u.a.getInstance().then((function(e){return e.saveFile(Object(u.h)()+"/"+t.state.fileName,t.state.code,!0)})),Y=this.state.fileName,Object(u.k)(Object(u.h)()+"/"+Y))}},{key:"onResize",value:function(){void 0===this.state.shareHash&&this.setState((function(e){return{initialCode:e.code}}));var e=window.innerWidth>0?window.innerWidth:window.screen.width;(window.innerHeight>0?window.innerHeight:window.screen.height)<=e?this.setState({width:e/2}):this.setState({width:e})}}]),n}(r.Component),K=n(102),X=n(104),$=n(105),Q=n(103),Z=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=Object(u.e)(),t=e.autoSelectTheme?e.darkTheme:void 0,n={padding:"2.5px"},a={};a.borderTop="1px solid "+Object(m.a)(e.theme,t,"border"),a.borderRight="1px solid "+Object(m.a)(e.theme,t,"border"),this.props.bottomBorder&&(a.borderBottom="1px solid "+Object(m.a)(e.theme,t,"border")),a.whiteSpace="nowrap",a.textAlign="right",a.verticalAlign="top",a.fontFamily="monospace",a.cursor="pointer";var o={};if(o.borderTop="1px solid "+Object(m.a)(e.theme,t,"border"),o.borderLeft="1px solid "+Object(m.a)(e.theme,t,"border"),this.props.bottomBorder&&(o.borderBottom="1px solid "+Object(m.a)(e.theme,t,"border")),o.whiteSpace="nowrap",o.overflow="hidden",o.textOverflow="ellipsis",o.maxWidth="8em",o.verticalAlign="bottom",o.fontFamily="monospace",o.cursor="pointer",void 0===this.props.fileName)return r.createElement("tr",{className:"no-hover"},r.createElement("td",{style:n}),r.createElement("td",{style:n}));var i=this.props.fileName,s=r.createElement($.a,{id:"tooltip@file"+i},i),c=r.createElement("div",{className:"miniSpacer"}),l=this.props.iconName;return r.createElement("tr",null,r.createElement("td",{style:o,onClick:this.props.onClick},r.createElement(Q.a,{overlay:s},r.createElement("div",{className:"glyphicon glyphicon-"+l})),c,i),r.createElement("td",{style:a,onClick:this.props.onClick},this.props.children))}}]),n}(r.Component);Z.defaultProps={children:[],fileName:void 0,iconName:"file",onClick:void 0,bottomBorder:!0};var ee=Z,te=n(25),ne=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e={marginTop:"-8.8px",marginRight:"-9px",marginLeft:"8px",cursor:"pointer"};return r.createElement(I.a,{size:"sm",className:"button btn-"+this.props.btnType+"-alt",onClick:this.props.onClick,style:e,disabled:this.props.disabled},r.createElement("span",{className:"glyphicon glyphicon-"+this.props.iconName})," ",this.props.children)}}]),n}(r.Component);ne.defaultProps={children:[],onClick:void 0,btnType:"dng",iconName:"trash",disabled:!1};var re=ne,ae=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props.isOpened,t=Object(u.e)(),n=t.autoSelectTheme?t.darkTheme:void 0,a={};a.borderRight="1px solid "+Object(m.a)(t.theme,n,"border"),a.borderLeft="1px solid "+Object(m.a)(t.theme,n,"border"),e||(a.borderBottom="1px solid "+Object(m.a)(t.theme,n,"border"));var o={};o.borderRight="1px solid "+Object(m.a)(t.theme,n,"border"),o.borderLeft="1px solid "+Object(m.a)(t.theme,n,"border"),o.borderBottom="1px solid "+Object(m.a)(t.theme,n,"border"),o.borderTop="none";var i=[];return i.push(r.createElement(ee,{bottomBorder:!e||void 0!==this.props.description,iconName:e?"folder-open":"folder-close",onClick:this.props.onClick,fileName:void 0===this.props.folderName?"":this.props.folderName,key:this.props.keyHint+"@header1"},r.createElement(re,{btnType:"suc",key:this.props.keyHint+"@th1",onClick:this.props.onClick,iconName:e?"folder-close":"folder-open"},(e?"Hide ":"Show ")+this.props.openCloseButtonText),this.props.headerButtons)),void 0!==this.props.description&&i.push(r.createElement("tr",{key:this.props.keyHint+"t@01",className:"no-hover"},r.createElement("td",{colSpan:2,style:a},this.props.description))),i.push(r.createElement(te.a,{key:this.props.keyHint+"@fade1",in:e,unmountOnExit:!0,timeout:10},r.createElement("tr",{key:this.props.keyHint+"@t1",className:"no-hover"},r.createElement("td",{colSpan:2,style:o,key:this.props.keyHint+"@td0"},r.createElement("div",{key:this.props.keyHint+"@d1"},this.props.children))))),i}}]),n}(r.Component);ae.defaultProps={children:[],headerButtons:[],fileName:void 0,onClick:void 0,isOpened:!1};var oe=ae,ie=n(133),se=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={files:[],shares:[],examples:[],examplesStatus:0,shareLink:"",folder:{},miniMode:!1},r.modalCloseCallback=r.modalCloseCallback.bind(Object(l.a)(r)),r.handleBrowserResize=r.handleBrowserResize.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.refreshFiles();var e=window.innerWidth>0?window.innerWidth:window.screen.width;this.setState({miniMode:e<450}),window.addEventListener("resize",this.handleBrowserResize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleBrowserResize)}},{key:"render",value:function(){var e;if(""!==this.state.shareLink&&(e=r.createElement(L,{error:!1,link:this.state.shareLink,closeCallback:this.modalCloseCallback,enocontract:!1,formContractCallback:this.modalCloseCallback})),0===this.state.files.length)return r.createElement(K.a,{className:"flexy"},r.createElement("h2",null,"Files"),r.createElement("hr",null),r.createElement("h4",null,"Local Files"),r.createElement("p",null,"Files saved from the editor will appear here."),this.renderShares(),this.renderExamples(),e,r.createElement("br",null)," ",r.createElement("br",null));var t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),n=this.deepCopy(this.state.files);return n.sort((function(e,n){return t.compare(Object(u.d)(e),Object(u.d)(n))})),r.createElement(K.a,{className:"flexy"},r.createElement("h2",null,"Files"),r.createElement("hr",null),r.createElement("h4",null,"Local Files"),r.createElement("p",null,"You can find your saved files here. Click on a file to load it into the editor."),this.renderFileList(n),this.renderShares(),this.renderExamples(),e,r.createElement("br",null)," ",r.createElement("br",null))}},{key:"modalCloseCallback",value:function(){this.setState({shareLink:""})}},{key:"handleBrowserResize",value:function(){var e=window.innerWidth>0?window.innerWidth:window.screen.width;this.setState({miniMode:e<450})}},{key:"renderShares",value:function(){if(!D.d)return"";var e=[];e.push(r.createElement("br",{key:"s@1"})),e.push(r.createElement("h4",{key:"s@2"},"Shared Files")),e.push(r.createElement("p",{key:"s@3"},"Below you can find the share links you created (denoted by ",r.createElement("span",{className:"glyphicon glyphicon-upload"}),"), as well as external share links you opened (denoted by ",r.createElement("span",{className:"glyphicon glyphicon-download"}),"). Click on a file to view it in the editor."));var t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),n=this.deepCopy(this.state.shares);return 0===n.length?"":(n.sort((function(e,n){return t.compare(Object(u.d)(e),Object(u.d)(n))})),e.push(r.createElement("div",{key:"s@4"},this.renderFileList(n))),e)}},{key:"renderExamples",value:function(){if(!D.b)return"";var e=[];if(e.push(r.createElement("br",{key:"1"})),e.push(r.createElement("h4",{key:"2"},"Sample Files")),1===this.state.examplesStatus){var t=this.renderFileList(this.state.examples);0===this.state.examples.length?e.push(r.createElement("p",{key:"3"},"There is no such thing as a sample file.")):e.push(r.createElement(X.a,{key:"3",hover:!0},r.createElement("tbody",null,t)))}else 2===this.state.examplesStatus?e.push(r.createElement("p",{key:"3"},"Sample files unavailable.")):e.push(r.createElement("p",{key:"3"},"Loading sample files\u2026"));return e}},{key:"renderFileList",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[],a=[],o="",i=0;i<e.length;++i){var s=Object(u.d)(e[i]).substr(t.length).split("/");if(s.length>1&&""!==s[0]){var c=s[0];o===c?a.push(e[i]):(""!==o&&(a.length>1?n.push(this.renderFolder(o,a,i-1,t)):n.push(this.renderFile(a[0],i-1,t)),n.push(this.renderFile(void 0,e.length+i-1))),a=[e[i]],o=c)}else a.length>0&&(a.length>1?n.push(this.renderFolder(o,a,i-1,t)):n.push(this.renderFile(a[0],i-1,t)),n.push(this.renderFile(void 0,e.length+i-1)),a=[],o=""),n.push(this.renderFile(e[i],i,t)),i<e.length-1&&n.push(this.renderFile(void 0,e.length+i))}if(a.length>0)if(a.length>1){if(a.length===e.length&&""!==t)return;n.push(this.renderFolder(o,a,e.length-1,t))}else n.push(this.renderFile(a[0],e.length-1,t));return r.createElement(X.a,{hover:!0},r.createElement("tbody",null,n))}},{key:"renderFolder",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=this.renderFileList(t,a+e+"/");if(void 0===o){var i=Object(u.d)(t[0]).substr(a.length).split("/")[1];return this.renderFolder(e+"/"+i,t,n,a)}var s=this.state.folder[a+e+t[0].type],c=[];if(t.length>=1&&t[0].type!==u.b.SERVER){var l=r.createElement("div",{className:"miniSpacer",key:n+"@fhead1"}),h=r.createElement(re,{iconName:"trash",key:n+"@fhead2",onClick:this.deleteHandlerForAll(t)},this.state.miniMode?"":t.length>=1&&t[0].type===u.b.SHARE?"Forget All":"Delete All");c.push(l),c.push(h)}return r.createElement(oe,{isOpened:s,folderName:e,onClick:this.toggleFolder(a+e+t[0].type),headerButtons:c,keyHint:n,key:n,openCloseButtonText:t.length+" Files"},o)}},{key:"renderFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0===e)return r.createElement(ee,{key:t});var a=Object(u.d)(e).substr(n.length),o=r.createElement("div",{className:"miniSpacer"}),i=r.createElement(re,{onClick:this.deleteHandlerFor(e.name)},this.state.miniMode?"":"Delete"),s=r.createElement(re,{onClick:this.deleteHandlerFor(e.name,!0)},this.state.miniMode?"":"Forget"),c=r.createElement(re,{iconName:"link",btnType:"pri",onClick:this.linkHandlerFor(e)},this.state.miniMode?"":"Link"),l="file";return e.type===u.b.SHARE&&(l="download",void 0!==e.info&&void 0!==e.info.origin&&e.info.origin===u.b.LOCAL&&(l="upload")),r.createElement(ee,{key:t,onClick:this.openHandlerFor(e),iconName:l,fileName:a},r.createElement(re,{btnType:"suc",onClick:this.openHandlerFor(e),iconName:e.type===u.b.SHARE?"search":"pencil"},this.state.miniMode?"":e.type===u.b.SHARE?"View":"Edit"),e.type===u.b.SHARE?o:"",e.type===u.b.SHARE?c:"",r.createElement("div",{className:"miniSpacer"}),r.createElement(re,{btnType:"pri",iconName:"download-alt",onClick:this.downloadHandlerFor(e)},this.state.miniMode?"":"Save"),e.type!==u.b.SERVER?o:"",e.type===u.b.LOCAL?i:"",e.type===u.b.SHARE?s:"")}},{key:"refreshFiles",value:function(){var e=this;D.b?u.a.getInstance().then((function(e){return e.getFiles(Object(u.e)().showHiddenFiles,!0)})).then((function(t){return e.setState({files:t.filter((function(e){return e.type!==u.b.SHARE}))}),e.setState({shares:t.filter((function(e){return e.type===u.b.SHARE}))}),B.getCodeExamplesList()})).then((function(t){var n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});t.sort(n.compare),e.setState({examples:t.map((function(e){return{name:e,info:"",type:u.b.SERVER}})),examplesStatus:1})})).catch((function(t){e.setState({examplesStatus:2})})):u.a.getInstance().then((function(e){return e.getFiles(Object(u.e)().showHiddenFiles,!0)})).then((function(t){e.setState({files:t.filter((function(e){return e.type!==u.b.SHARE}))}),e.setState({shares:t.filter((function(e){return e.type===u.b.SHARE}))})}))}},{key:"deepCopy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"toggleFolder",value:function(e){var t=this;return function(n){t.setState((function(n){var r=t.deepCopy(n);return r.folder[e]=!r.folder[e],r})),n.stopPropagation()}}},{key:"linkHandlerFor",value:function(e){var t=this;return function(n){t.setState({shareLink:window.location.origin+"/share/"+e.name}),n.stopPropagation()}}},{key:"openHandlerFor",value:function(e){var t=this;return e.type===u.b.SHARE?function(n){t.props.history.push("/share/"+e.name),n.stopPropagation()}:function(n){t.props.history.push("/editor",{fileName:e.name,example:e.type===u.b.SERVER}),n.stopPropagation()}}},{key:"downloadHandlerFor",value:function(e){return function(t){(e.type!==u.b.SERVER?u.a.getInstance().then((function(t){return t.getFile(e.name,!1,e.type===u.b.SHARE)})):B.getCodeExample(e.name)).then((function(t){var n=new Blob([t],{type:"text/plain;charset=utf-8"});e.name+=".sml",ie.saveAs(n,e.name)})),t.stopPropagation()}}},{key:"deleteHandlerFor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r){u.a.getInstance().then((function(t){return t.deleteFile(e,!1,n)})).then((function(e){e&&t.refreshFiles()})),r.stopPropagation()}}},{key:"deleteHandlerForAll",value:function(e){var t=this;return function(n){e.forEach((function(e){u.a.getInstance().then((function(t){return t.deleteFile(e.name,!1,e.type===u.b.SHARE)}))})),t.refreshFiles(),n.stopPropagation()}}}]),n}(r.Component),ce=[],le=n(24).Modal,he=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).needsReload=void 0,r.closeWishNoticicationModal=r.closeWishNoticicationModal.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){if(this.props.notification.isNewWish){var e=Object(u.e)();this.needsReload=e.wishingHidden,e.wishingHidden=!1,localStorage.setItem("interfaceSettings",JSON.stringify(e))}}},{key:"render",value:function(){if(this.props.notification.error)return console.log(this.props.notification.error),r.createElement(le,{show:!0,onHide:this.closeWishNoticicationModal},r.createElement(le.Header,{closeButton:!1},r.createElement(le.Title,null,"Wish Import Failed")),r.createElement(le.Body,null,"While trying to import the wish, an error occured."),r.createElement(le.Footer,null,r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:this.closeWishNoticicationModal},"Close")));var e={margin:"10px 0 0 0"};return r.createElement(le,{show:!0,onHide:this.closeWishNoticicationModal},r.createElement(le.Header,{closeButton:!1},r.createElement(le.Title,null,"Wish Import Successful")),r.createElement(le.Body,null,r.createElement("p",{className:"text-justify",style:e},this.props.notification.isNewWish?'The wish "'+this.props.notification.wishName+'" was imported successfully.':'The wish "'+this.props.notification.wishName+'" is already imported.')),r.createElement(le.Footer,null,r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:this.closeWishNoticicationModal},"Close")))}},{key:"closeWishNoticicationModal",value:function(){this.props.closeCallback(this.needsReload)}}]),n}(r.Component),de=n(24).Modal,ue=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={wishes:ce,localWishes:[],externalWishes:[],externalWishesStatus:0,miniMode:!1,folder:{},initialCode:void 0,code:void 0,wishSeries:void 0,wish:void 0,wishPart:void 0,wishPartSolved:void 0,wishPartNotification:void 0,wishNotification:void 0},r.notificationCloseCallback=r.notificationCloseCallback.bind(Object(l.a)(r)),r.markCurrentTaskSolved=r.markCurrentTaskSolved.bind(Object(l.a)(r)),r.checkWishComplete=r.checkWishComplete.bind(Object(l.a)(r)),r.onWishCodeChange=r.onWishCodeChange.bind(Object(l.a)(r)),r.handleBrowserResize=r.handleBrowserResize.bind(Object(l.a)(r)),r.handleResetWish=r.handleResetWish.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=window.innerWidth>0?window.innerWidth:window.screen.width;if(this.setState({miniMode:t<768}),this.refreshExternalWishes(),window.addEventListener("resize",this.handleBrowserResize,{passive:!0}),this.props.history&&this.props.history.location.state){var n=this.props.history.location.state;n.wish&&n.wishPart&&this.setState({wish:n.wish,wishPart:n.wishPart})}if(this.props.match&&this.props.match.params&&this.props.match.params.hash){var r=this.props.match.params.hash;u.a.getInstance().then((function(e){return e.getWish(r)})).then((function(t){e.setState((function(e){return{wishNotification:{wishName:r,wishType:t[1],isNewWish:!1}}}))})).catch((function(t){B.loadSharedWish(r).then((function(t){e.setState((function(e){return{wishNotification:{wishName:r,wishType:u.c.SHARE,isNewWish:!0}}})),u.a.getInstance().then((function(e){return e.saveWish(r,t,u.c.SHARE)}))})).catch((function(t){e.setState({wishNotification:{wishName:r,wishType:u.c.SHARE,isNewWish:!1,error:t}})}))}))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleBrowserResize)}},{key:"render",value:function(){var e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),t=this.deepCopy(this.state.wishes);t.sort((function(t,n){return e.compare(t.id,n.id)}));var n,a=this.deepCopy(this.state.localWishes);return a.sort((function(t,n){return e.compare(t.id,n.id)})),void 0!==this.state.wishNotification&&(n=r.createElement(he,{closeCallback:this.notificationCloseCallback,notification:this.state.wishNotification})),void 0===this.state.wishSeries||void 0===this.state.wish||void 0===this.state.wishPart?r.createElement(K.a,{className:"flexy"},r.createElement("h2",null,"Wishes"),r.createElement("hr",null),this.renderWishList(t),r.createElement("h4",null,"Local Wishes"),r.createElement("p",null,0===a.length?"Wishes stored locally in your browser will appear here.":"You can find the wishes that you downloaded from the server here."),this.renderWishList(a),this.renderExternalWishes(),r.createElement("br",null)," ",r.createElement("br",null),n):r.createElement(K.a,{key:this.state.wish.name+"@"+this.state.wishPart,className:"flexy"},this.state.wishPartNotification?this.renderWishPartCompleted(this.state.wishSeries,this.state.wish,this.state.wishPart):"",r.createElement("h2",null,r.createElement("span",{style:{fontSize:"smaller"}},this.state.wishSeries.name,":")," ",this.state.wish.name),r.createElement("hr",null),this.renderWishProgress(this.state.wishSeries,this.state.wish,this.state.wishPart),r.createElement("br",null),this.renderCurrentWish(this.state.wishSeries,this.state.wish,this.state.wishPart),r.createElement("br",null)," ",r.createElement("br",null))}},{key:"notificationCloseCallback",value:function(e){this.setState((function(e){return{wishNotification:void 0}})),this.props.history.push("/wishes/"),e&&window.location.reload()}},{key:"isWishCompleted",value:function(e,t){return Object(u.j)(e.id,t.name)>=t.parts.length}},{key:"renderWishPartCompleted",value:function(e,t,n){var a=this,o="Your Wish Has Not Yet Been Granted",i=r.createElement("button",{className:"btn btn-suc-alt",type:"button",onClick:this.openHandlerFor(e,t,n+1)},"I Wish to Proceed"),s=r.createElement(de.Body,null,"Congratulations! You successufully completed Part ",n+1," of this Wish.",r.createElement("br",null),"But there is more: ",t.parts.length-n-1," more part",t.parts.length-n===1?"":"s"," await you!");return t.parts.length===n+1&&(o="A Part of Your Wish Has Been Fulfilled",i=r.createElement("button",{className:"btn btn-suc-alt",type:"button",onClick:function(e){a.setState({wishSeries:void 0,wish:void 0,wishPart:void 0})}},"Return to the Wishes Overview"),s=r.createElement(de.Body,null,"Congratulations! You successfully completed all tasks of this Wish.",r.createElement("br",null),"Check out the Wishes Overview to find new Wishes to work on!")),r.createElement(de,{show:!0,onHide:function(){a.setState({wishPartNotification:!1})}},r.createElement(de.Header,{closeButton:!1},r.createElement(de.Title,null,o)),s,r.createElement(de.Footer,null,r.createElement("button",{className:"btn btn-def-alt",type:"button",onClick:function(){a.setState({wishPartNotification:!1})}},"Dismiss"),i))}},{key:"renderWishProgress",value:function(e,t,n){var a,o=this,i=[],s=Object(u.j)(e.id,t.name);i.push(r.createElement("span",{key:"lbl",style:{fontFamily:"monospace"}},"Select a Part:"));for(var c=0;c<t.parts.length;c++){i.push((a=c,r.createElement("div",{key:"wpr@spacer@"+a,className:"miniSpacer"})));var l="button btn-suc-alt",h="glyphicon-ok-sign";c>s?(l="button btn-dng-alt",h="glyphicon-lock"):c===s&&(l="button btn-pri-alt",h="glyphicon-exclamation-sign"),i.push(r.createElement(I.a,{size:"sm",className:l,onClick:this.openHandlerFor(e,t,c),key:"quicknav@b@"+c,disabled:c>s||n===c},r.createElement("div",{className:"glyphicon "+h})))}return r.createElement(X.a,null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{style:{border:"none",padding:"unset"}},r.createElement(I.a,{size:"sm",className:"button btn-suc-alt",onClick:function(e){o.setState({wishSeries:void 0,wish:void 0,wishPart:void 0})}},"Return to the Wishes Overview")),r.createElement("td",{style:{border:"none",padding:"unset",textAlign:"right"}},i))))}},{key:"markCurrentTaskSolved",value:function(){if(void 0!==this.state.wishSeries&&void 0!==this.state.wish&&void 0!==this.state.wishPart){var e=this.state.wishSeries.id,t=this.state.wish.name,n=this.state.wishPart,r=!0===this.state.wishPartSolved;this.setState({wishPartNotification:!r,wishPartSolved:!0}),r||Object(u.n)(e,t,Math.max(Object(u.j)(e,t),n+1))}}},{key:"checkWishComplete",value:function(e,t){if(t){e.endsWith("\n")&&(e=e.substr(0,e.length-1));for(var n=e.split("\n"),r=n.length-1;r>=0&&!n[r].includes("--- Checking your solution ---");r--);if(!(r<0)){for(;r<n.length;++r)if(n[r].startsWith("\\3"))return;this.markCurrentTaskSolved()}}}},{key:"renderCurrentWish",value:function(e,t,n){if(n>=t.parts.length)return[];var a=t.parts[n],o=[];return o.push(r.createElement("div",{key:t.name+"@des"},this.parseDescriptionString(a.description.join(""),t.name)[0])),o.push(r.createElement("br",{key:t.name+"@br"})),o.push(r.createElement("div",{className:"flexy flexcomponent",style:{minHeight:"500px"},key:t.name+"@code@"+this.state.initialCode},r.createElement(V,{readOnly:!0===this.state.wishPartNotification,onCodeChange:this.onWishCodeChange,initialCode:this.state.initialCode,outputCallback:this.checkWishComplete,onReset:this.handleResetWish,interpreterSettings:a.code.interpreterSettings,beforeCode:void 0===a.code.beforeCode?void 0:a.code.beforeCode.join(""),afterCode:'\n local val _ = printLn "--- Checking your solution ---" in end; local\n'+(void 0===a.code.afterCode?"":a.code.afterCode.join(""))+'\n val _ = printLn "--- All checks passed. Part complete! ---"; in end;'}))),o}},{key:"handleResetWish",value:function(){if(void 0!==this.state.wishSeries&&void 0!==this.state.wish&&void 0!==this.state.wishPart){var e="";void 0!==this.state.wish.parts[this.state.wishPart].code.userDefaultCode&&(e=this.state.wish.parts[this.state.wishPart].code.userDefaultCode.join("")),this.setState({initialCode:e,code:e})}}},{key:"onWishCodeChange",value:function(e){var t=this;void 0!==this.state.wishSeries&&void 0!==this.state.wish&&void 0!==this.state.wishPart&&(this.setState({code:e}),u.a.getInstance().then((function(e){return e.saveFile(t.getFileName(t.state.wishSeries,t.state.wish,t.state.wishPart),t.state.code,!0)})))}},{key:"parseDescriptionString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(void 0===e)return"<undefined>";for(var a=[],o=0,i="";o<e.length;){switch(e[o]){case"\n":a.push(r.createElement("span",{key:"td@"+t+"@"+o},i)),a.push(r.createElement("br",{key:"tdb@"+t+"@"+o})),i="";break;case"\t":a.push(r.createElement("span",{key:"td@"+t+"@"+o},i)),a.push(r.createElement("span",{key:"tbs@"+t+"@"+o},"\xa0\xa0\xa0\xa0")),i=""}if(o+1<e.length){if(e[o]+e[o+1]===n)break;var s=!1;switch(e[o]+e[o+1]){case"**":case"__":case"``":s=!0}if(s){var c=this.parseDescriptionString(e.substr(o+2),t,e[o]+e[o+1]);switch(a.push(r.createElement("span",{key:"td@"+t+"@"+o},i)),i="",e[o]+e[o+1]){case"**":a.push(r.createElement("b",{key:"tdbold@"+t+"@"+o},c[0]));break;case"__":a.push(r.createElement("i",{key:"tdit@"+t+"@"+o},c[0]));break;case"``":a.push(r.createElement("code",{key:"tdcode@"+t+"@"+o},c[0]))}o+=c[1]+4;continue}}i+=e[o],o++}return a.push(r.createElement("span",{key:"td@"+t+"@"+o},i)),[a,o]}},{key:"renderExternalWishes",value:function(){if(!D.c)return"";var e=[];if(e.push(r.createElement("br",{key:"ex@1"})),e.push(r.createElement("h4",{key:"ex@2"},"Downloadable Wishes")),1===this.state.externalWishesStatus){var t=this.renderExternalWishList(this.state.externalWishes);e.push(t)}else 2===this.state.externalWishesStatus?e.push(r.createElement("p",{key:"3"},"External wishes unavailable.")):e.push(r.createElement("p",{key:"3"},"Loading external wishes\u2026"));return e}},{key:"renderFolder",value:function(e,t,n,a,o,i){var s=this.state.folder[e+o];void 0===n&&(n=[]);var c=r.createElement("div",{key:"sd@"+o},this.parseDescriptionString(n.join(""),o)[0]);return r.createElement(oe,{isOpened:s,folderName:this.state.miniMode?t:e,onClick:this.toggleFolder(e+o),keyHint:o,key:o,openCloseButtonText:"Progress",description:n.length>0?c:void 0},a)}},{key:"renderWish",value:function(e,t,n){for(var a=Object(u.j)(e.id,t.name),o=!0,i=0;i<t.prerequisites.length;++i){for(var s=t.prerequisites[i],c=0;c<e.wishes.length;++c)if(e.wishes[c].name===s){this.isWishCompleted(e,e.wishes[c])||(o=!1);break}if(!o)break}for(var l=[],h=0;h<t.parts.length;h++){h>0&&l.push(r.createElement("div",{key:"space@"+h,className:"miniSpacer"}));var d="suc",m="ok-sign";!o||h>a?(d="dng",m="lock"):h===a&&(d="pri",m="exclamation-sign"),l.push(r.createElement(re,{btnType:d,onClick:this.openHandlerFor(e,t,h),key:n+"@b@"+h,disabled:!o||h>a,iconName:m}))}return a>=t.parts.length&&(a=t.parts.length-1),r.createElement(X.a,{key:"tbl1@wish@tbl@"+n+"@"+t.name,hover:!0},r.createElement("tbody",null,r.createElement(ee,{key:"tbl1@wish@itm@"+n+"@"+t.name,iconName:"exclamation-sign",fileName:t.name,onClick:o?this.openHandlerFor(e,t,a):void 0},l),r.createElement(ee,{key:n})))}},{key:"renderExternalWishList",value:function(e){if(0===e.length)return r.createElement("p",{key:"ex@3"},"No external wishes available.");for(var t=[],n=0;n<e.length;++n){var a=Object(u.i)(e[n].fileName),o=[r.createElement(re,{btnType:"pri",iconName:a?"ok-sign":"download",disabled:a,onClick:a?void 0:this.downloadExternalWish(e[n])},a?"Accepted":"Accept")];t.push(r.createElement(ee,{key:"exwish@"+n,onClick:a?void 0:this.downloadExternalWish(e[n]),fileName:e[n].fileName,iconName:"exclamation-sign"},o)),t.push(r.createElement(ee,{key:"exwish@a"+n}))}return r.createElement(X.a,{hover:!0},r.createElement("tbody",null,t))}},{key:"downloadExternalWish",value:function(e){var t=this;return function(n){B.getPublicWish(e.fileName).then((function(n){u.a.getInstance().then((function(t){return t.saveWish(e.fileName,n,u.c.SERVER)})).then((function(){t.refreshStoredWishes(),Object(u.m)(e.fileName,!0),t.setState((function(t){return{wishNotification:{wishName:e.fileName,wishType:u.c.SERVER,isNewWish:!0}}}))})).catch((function(n){t.setState((function(t){return{wishNotification:{wishName:e.fileName,wishType:u.c.SERVER,isNewWish:!1,error:n}}})),Object(u.m)(e.fileName,!1)}))})).catch((function(n){t.setState((function(t){return{wishNotification:{wishName:e.fileName,wishType:u.c.SERVER,isNewWish:!1,error:n}}})),Object(u.m)(e.fileName,!1)})),n.stopPropagation()}}},{key:"renderWishList",value:function(e){var t=this;return e.map((function(e){return t.renderWishSeries(e[0],e[1])}))}},{key:"renderWishSeries",value:function(e,t){var n=this,a=void 0!==e.wishes?e.wishes.map((function(t){return n.renderWish(e,t,e.id)})):[],o={padding:"2.5px"};return r.createElement(X.a,{key:"tbl1@"+e.id,hover:!0},r.createElement("tbody",null,this.renderFolder(e.name,e.shortName,e.description,a,e.id,t),r.createElement("tr",{key:"tbl1@pad@"+e.id,className:"no-hover"},r.createElement("td",{style:o}),r.createElement("td",{style:o}))))}},{key:"handleBrowserResize",value:function(){var e=window.innerWidth>0?window.innerWidth:window.screen.width;this.setState({miniMode:e<768})}},{key:"deepCopy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"toggleFolder",value:function(e){var t=this;return function(n){t.setState((function(n){var r=t.deepCopy(n);return r.folder[e]=!r.folder[e],r})),n.stopPropagation()}}},{key:"getFileName",value:function(e,t,n){return"WSH/"+e.id+"/"+t.name+"/"+n}},{key:"openHandlerFor",value:function(e,t,n){var r=this;return function(a){r.setState((function(r){return{wishSeries:e,wish:t,wishPart:n,wishPartNotification:!1,wishPartSolved:Object(u.j)(e.id,t.name)>n,initialCode:void 0}})),u.a.getInstance().then((function(a){return a.getFile(r.getFileName(e,t,n),!0)})).then((function(e){r.setState((function(t){return{initialCode:e}}))})).catch((function(e){})),void 0===r.state.initialCode&&r.setState((function(e){return{initialCode:void 0===t.parts[n].code.userDefaultCode?"":t.parts[n].code.userDefaultCode.join("")}})),a.stopPropagation()}}},{key:"refreshStoredWishes",value:function(){var e=this;u.a.getInstance().then((function(e){return e.getWishes()})).then((function(t){e.setState({localWishes:t})}))}},{key:"refreshExternalWishes",value:function(){var e=this;D.c&&B.getPublicWishList().then((function(t){var n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});t.sort(n.compare),e.setState({externalWishes:t.map((function(e){return{fileName:e,wishType:u.c.SERVER}})),externalWishesStatus:1})})).catch((function(t){e.setState({externalWishesStatus:2})})),this.refreshStoredWishes()}}]),n}(r.Component),me=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleRedirectToEdit=r.handleRedirectToEdit.bind(Object(l.a)(r)),r.handleRedirectToWishes=r.handleRedirectToWishes.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"handleRedirectToEdit",value:function(){this.props.history.replace("/editor",{})}},{key:"handleRedirectToWishes",value:function(){this.props.history.replace("/wishes",{})}},{key:"render",value:function(){var e,t,n,a={};return a.marginBottom="20px",a.marginLeft="20px",a.float="right",D.d&&(e=r.createElement("h3",null,"Code Sharing"),t=r.createElement("div",{className:"selectable",style:{textAlign:"justify"}},"You can share the code that is currently shown in SOSML by using the ",r.createElement("p",{className:"buttonSimul"},r.createElement("span",{className:"glyphicon glyphicon-link"})," Share")," button. Your code will be uploaded to the servers of Saarland University and you are provided with a link to download your file. Files are always snapshots, neither you nor anyone with the link is able to modify the file. If you want to share an updated version, you have to share the file again (getting a new link for it).",r.createElement("br",null),r.createElement("br",null),r.createElement(q.a,{variant:"info",className:"selectable"},r.createElement("strong",null,"Warning: "),"Only upload files and content to which you own the copyright. By uploading a file to the servers of Saarland University, you grant Saarland University and the ",r.createElement("a",{href:"https://github.com/SOSML"}," SOSML Developers "),"a non-exclusive, worldwide, royalty-free, sub-licensable, and transferable license to use, publish, and create derivative works of your uploaded file. Further, we cannot guarantee the availability of your uploaded files."))),Object(u.o)()||(n=r.createElement("button",{className:"btn btn-pri-alt",onClick:this.handleRedirectToWishes,style:a,type:"button"},r.createElement("span",{className:"glyphicon glyphicon-exclamation-sign"}),"\xa0I wish to learn SML.")),r.createElement(K.a,{className:"flexy selectable",style:{textAlign:"justify"}},r.createElement("h2",null,"SOSML: The Online Interpreter for Standard ML"),r.createElement("hr",null),r.createElement("p",null,"Standard ML is a functional programming language with static type checking and type inference. The language is used to teach a computer science introductory course at Saarland University. This online interpreter is developed by the ",r.createElement("a",{href:"https://github.com/SOSML"}," SOSML Developers "),"who are (former) students at Saarland University."),r.createElement("h3",null,"How to Use SOSML"),r.createElement("div",{className:"selectable"},"The editor shows two columns. The left column allows to write Standard ML code whereas the right column shows the output of SOSML. Code is evaluated after typing a semicolon (;). SOSML runs locally in your web browser, so no files are being uploaded for evaluation. On successful evaluation, your code and the corresponding output will be become green or blue. If there is some mistake or an unhandled exception, your code and the output will become red instead. (You may configure SOSML to use different colors on the ",r.createElement("a",{href:"/settings"},r.createElement("span",{className:"glyphicon glyphicon-cog"}),"\xa0Settings")," page.)",r.createElement("br",null),r.createElement("br",null),r.createElement(q.a,{variant:"info",className:"selectable"},r.createElement("strong",null,"Warning: "),"Long computations might be terminated by your web browser due to limitations for how long a script is allowed to run. This time limit may be changed on the ",r.createElement("a",{href:"/settings"},r.createElement("span",{className:"glyphicon glyphicon-cog"}),"\xa0Settings")," page.")),r.createElement("h3",null,"Save Your Work!"),r.createElement("div",{className:"selectable"},"If you want to keep SML programs in SOSML, you have to store them using the ",r.createElement("p",{className:"buttonSimul"},r.createElement("span",{className:"glyphicon glyphicon-file"}),"\xa0Store")," button above your code. When you change your code, you have to store the file again. To view or change your stored files, just head to the ",r.createElement("a",{href:"/files"},r.createElement("span",{className:"glyphicon glyphicon-duplicate"}),"\xa0Files")," page.",r.createElement("br",null),r.createElement("br",null),r.createElement(q.a,{variant:"info",className:"selectable"},r.createElement("strong",null,"Warning: "),"The files are stored locally inside your web browser. If you delete the website data of SOSML, all your files will be deleted. To export yor work from your web browser, head to the ",r.createElement("a",{href:"/files"},r.createElement("span",{className:"glyphicon glyphicon-duplicate"}),"\xa0Files")," page and hit the ",r.createElement("p",{className:"buttonSimul"},r.createElement("span",{className:"glyphicon glyphicon-download-alt"}),"\xa0Save")," button next to the file you want to save.")),e,t,r.createElement("button",{className:"btn btn-suc-alt",onClick:this.handleRedirectToEdit,style:a,type:"button"},r.createElement("span",{className:"glyphicon glyphicon-pencil"}),"\xa0Take me to the editor."),n,r.createElement("br",null),r.createElement("br",null))}}]),n}(r.Component),pe=n(101),fe=n(100),be=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=Object(m.b)(this.props.themeName,void 0);if(void 0===t)return"";var n=Object(u.e)(),a=n.autoSelectTheme?n.darkTheme:void 0,o=Object(m.a)(n.theme,a,"border"),i=Object(m.a)(n.theme,a,"background"),s=Object(m.a)(n.theme,a,"navbar_focus_fg"),c=r.createElement("div",{className:this.props.activeLight?"btn btn-def-inv":"btn btn-def-alt",style:{padding:"0px 5px 2px 5px"},onClick:function(t){return e.props.changeTheme("light",e.props.themeName)}},r.createElement(f,{icon:"sun",size:"16pt",stroke:this.props.activeLight?s:o,fill:this.props.activeLight?s:i})),l=r.createElement("div",{className:this.props.activeLight?"btn btn-def-inv":"btn btn-def-alt",style:{padding:"0px 5px 2px 5px"},onClick:function(t){return e.props.changeTheme("light",e.props.themeName)}},r.createElement(f,{icon:"sunmoon",size:"16pt",stroke:this.props.activeLight?s:o,fill:this.props.activeLight?s:i})),h=r.createElement("div",{className:this.props.activeDark?"btn btn-def-inv":"btn btn-def-alt",style:{padding:"0px 5px 2px 5px"},onClick:function(t){return e.props.changeTheme("dark",e.props.themeName)}},r.createElement(f,{icon:"moon",size:"16pt",stroke:this.props.activeDark?s:o,fill:this.props.activeDark?s:i}));return r.createElement(fe.a,null,r.createElement("div",null,r.createElement("div",{style:{fontSize:"16px",display:"inline-block",paddingTop:"4px",paddingLeft:"5px",fontFamily:"monospace"}},this.props.themeName),r.createElement("div",{className:"inlineBlock",style:{marginTop:"-1px",marginRight:"-1px",position:"relative",display:"flex",float:"right"}},this.props.combine?l:c,this.props.combine?"":r.createElement("div",{className:"miniSpacer"}),this.props.combine?"":h)),r.createElement(fe.a.Body,{style:{paddingLeft:"0",paddingBottom:"0",paddingRight:"0"}},r.createElement("div",{style:{borderTop:"1px solid "+Object(m.a)(n.theme,a,"alert_fg"),color:t.foreground,backgroundColor:t.background,paddingBottom:"1px"}},r.createElement("div",{style:{padding:"5px 5px 0",color:t.navbar_fg,backgroundColor:t.navbar_bg}},r.createElement(f,{icon:"sosml",stroke:t.icon_bg,fill:t.icon_fg,size:"24px"}),r.createElement("span",{style:{verticalAlign:"middle",fontSize:"12.5pt",fontFamily:"monospace"}},r.createElement("b",null," SOSML"))),r.createElement("div",{style:{padding:"5px",margin:"5px",color:t.alert_fg,backgroundColor:t.alert_bg,border:"1px solid "+t.alert_border}},r.createElement("div",{style:{float:"right",fontSize:"9pt",color:t.btn_dng_fg,backgroundColor:t.btn_dng_bg,border:"1px solid "+t.btn_dng_border,padding:"1px 2px",marginTop:"-6px",marginRight:"-6px",fontFamily:"monospace"}},"Btn"),r.createElement("div",{style:{float:"right",fontSize:"9pt",color:t.btn_pri_fg,backgroundColor:t.btn_pri_bg,border:"1px solid "+t.btn_pri_border,padding:"1px 2px",marginTop:"-6px",marginRight:"6px",fontFamily:"monospace"}},"Btn"),r.createElement("div",{style:{float:"right",fontSize:"9pt",color:t.btn_suc_fg,backgroundColor:t.btn_suc_bg,border:"1px solid "+t.btn_suc_border,padding:"1px 2px",marginTop:"-6px",marginRight:"6px",fontFamily:"monospace"}},"Btn"),"Alert"),r.createElement("div",{style:{margin:"5px",border:"1px solid "+t.border,fontFamily:"monospace"}},r.createElement("div",{style:{backgroundColor:t.success,paddingLeft:"5px"}},r.createElement("span",{style:{color:t.cm_builtin}},"print")," ",r.createElement("span",{style:{color:t.cm_string}},'"',this.props.themeName,'"'),";"),r.createElement("div",{style:{backgroundColor:t.success_alt,paddingLeft:"5px"}},r.createElement("span",{style:{color:t.cm_comment}},"(* Comment *)"),";"),r.createElement("div",{style:{backgroundColor:t.error,paddingLeft:"5px"}},r.createElement("span",{style:{color:t.cm_keyword}},r.createElement("b",null,"val"))," ",r.createElement("span",{style:{color:t.cm_variable}},"x")," ",r.createElement("span",{style:{color:t.cm_keyword}},"*")," ",r.createElement("span",{style:{color:t.cm_number}},"10"),";")))))}}]),n}(r.Component),ve=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={inter:Object(u.f)(),front:Object(u.e)()},r.timeoutChangeHandler=r.timeoutChangeHandler.bind(Object(l.a)(r)),r.timeDisplayChangeHandler=r.timeDisplayChangeHandler.bind(Object(l.a)(r)),r.resetColorsToDefault=r.resetColorsToDefault.bind(Object(l.a)(r)),r.themeChangeHandler=r.themeChangeHandler.bind(Object(l.a)(r)),r.changeTheme=r.changeTheme.bind(Object(l.a)(r)),r}return Object(i.a)(n,[{key:"render",value:function(){return r.createElement("div",{className:"container flexy"},r.createElement("h2",null,"Settings"),r.createElement("hr",null),r.createElement("p",null,'My name is "',"","-","eea438a"," run ","","/","Mo 12. Dez 08:00:31 UTC 2022",'" aka. FRONTEND.',r.createElement("br",null),"You can enable some additional features and extensions here. Things may break so be warned, though."),r.createElement("br",null),this.renderSettings(this.state.front.advancedMode),r.createElement("br",null)," ",r.createElement("br",null))}},{key:"resetColorsToDefault",value:function(){var e=this;this.setState((function(t){var n=e.deepCopy(t);return n.front.errorColor=Object(m.a)(n.front.theme,void 0,"error"),n.front.successColor1=Object(m.a)(n.front.theme,void 0,"success"),n.front.successColor2=Object(m.a)(n.front.theme,void 0,"success_alt"),n}),(function(){e.saveState()}))}},{key:"renderSettings",value:function(e){var t={textAlign:"right",width:"4.5em",border:"none"},n=[];return n.push(r.createElement("h4",{key:0},"Interpreter Settings")),e&&(n.push(r.createElement("div",{className:"checkbox",key:"d5"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:5,checked:this.state.inter.allowVector,onChange:this.changeHandler("inter","allowVector")}),"Allow vector patterns and expressions."))),n.push(r.createElement("div",{className:"checkbox",key:"d6"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:6,checked:this.state.inter.allowSuccessorML,onChange:this.changeHandler("inter","allowSuccessorML")}),"Enable support for 'SuccessorML' (experimental)"))),n.push(r.createElement("div",{className:"checkbox",key:"d6a"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:601,checked:this.state.inter.allowUnicode,onChange:this.changeHandler("inter","allowUnicode")}),"Enable support for Unicode (experimental)"))),n.push(r.createElement("div",{className:"checkbox",key:"d6b"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:602,checked:this.state.inter.allowUnicodeTypeVariables,onChange:this.changeHandler("inter","allowUnicodeTypeVariables")}),"Enable support for writing type variables as \u03b1, \u03b2, \u03b3, etc. (experimental)"))),n.push(r.createElement("div",{className:"checkbox",key:"d6c"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:603,checked:this.state.inter.showTypeVariablesAsUnicode,onChange:this.changeHandler("inter","showTypeVariablesAsUnicode")}),"Display type variables as \u03b1, \u03b2, \u03b3, etc. (experimental)"))),n.push(r.createElement("div",{className:"checkbox",key:"d65"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:65,checked:this.state.inter.realEquality,onChange:this.changeHandler("inter","realEquality")}),"Turn real into a type with equality."))),n.push(r.createElement("div",{className:"checkbox",key:"d7"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:7,checked:this.state.inter.strictMode,onChange:this.changeHandler("inter","strictMode")}),"Enforce single-typed results")))),n.push(r.createElement("div",{className:"checkbox",key:"d8"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:8,checked:this.state.inter.disableElaboration,onChange:this.changeHandler("inter","disableElaboration")}),r.createElement("b",null,"Disable")," elaboration."))),n.push(r.createElement("div",{className:"checkbox",key:"d9"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:9,checked:this.state.inter.disableEvaluation,onChange:this.changeHandler("inter","disableEvaluation")}),r.createElement("b",null,"Disable")," evaluation."))),n.push(r.createElement("p",{key:10},"Abort evaluation after ",r.createElement("input",{type:"number",min:"0",step:"100",value:this.state.front.timeout,style:t,onChange:this.timeoutChangeHandler,placeholder:"9029"})," ms.",r.createElement("br",null),r.createElement("br",null))),n.push(r.createElement("h4",{key:"n11"},"Theme Settings")),(n=n.concat(this.renderThemes())).push(r.createElement("h4",{key:11},"Editor Settings")),n.push(r.createElement("div",{className:"checkbox",key:"d16"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:16,checked:this.state.front.advancedMode,onChange:this.changeHandler("front","advancedMode")}),"Show ",r.createElement("em",null,"more")," things to break."))),n.push(r.createElement("div",{className:"checkbox",key:"d13"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:13,checked:this.state.front.outputHighlight,onChange:this.changeHandler("front","outputHighlight")}),"Enable colored output"))),n.push(r.createElement("div",{className:"checkbox",key:"d14"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:14,checked:this.state.front.autoIndent,onChange:this.changeHandler("front","autoIndent")}),"Enable auto-indent"))),e&&(n.push(r.createElement("div",{className:"checkbox",key:"d142"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:142,checked:this.state.front.useMobile,onChange:this.changeHandler("front","useMobile")}),"Switch to vertical editor mode on narrow screens and windows."))),n.push(r.createElement("div",{className:"checkbox",key:"d140"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:140,checked:this.state.front.showHiddenFiles,onChange:this.changeHandler("front","showHiddenFiles")}),"Display hidden files."))),n.push(r.createElement("div",{className:"checkbox",key:"d141"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:141,checked:this.state.front.globalLastCache,onChange:this.changeHandler("front","globalLastCache")}),"Show last edited code when opening the editor.")))),n.push(r.createElement("div",{className:"checkbox",key:"d15"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:15,checked:this.state.front.fullscreen,onChange:this.changeHandler("front","fullscreen")}),"Switch editor into fullscreen mode (Use ESC to return to the normal mode.)"))),n.push(r.createElement("div",{className:"checkbox",key:"d12"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:12,checked:this.state.inter.showUsedTimeWhenAbove>=0,onChange:this.timeDisplayFlipHandler()}),"Show execution time"))),this.state.inter.showUsedTimeWhenAbove>=0&&n.push(r.createElement("p",{key:100},"Show execution time only if larger than ",r.createElement("input",{type:"number",min:"0",step:"100",value:this.state.inter.showUsedTimeWhenAbove,style:t,onChange:this.timeDisplayChangeHandler,placeholder:"9029"})," ms.")),n}},{key:"renderThemes",value:function(){var e=this,t={textAlign:"right",width:"4.5em",border:"none"},n=[],a=[],o=this.state.front.autoSelectTheme?this.state.front.darkTheme:void 0,i=Object(m.a)(this.state.front.theme,o,"foreground"),s=Object(m.a)(this.state.front.theme,o,"background"),c=["sayaka","madoka","homura","kyoko"];this.state.front.advancedMode&&(c=["sayaka","madoka","mami","homura","kyoko","nagisa","sana","yachiyo"]);for(var l=0,h=c;l<h.length;l++){var d=h[l];a.push(r.createElement(be,{key:d,themeName:d,activeLight:this.state.front.theme===d,activeDark:this.state.front.darkTheme===d,changeTheme:this.changeTheme,combine:!this.state.front.autoSelectTheme}))}return this.state.front.autoSelectTheme?n.push(r.createElement("div",{key:12,className:"selectable"},"Using light theme ",r.createElement("input",{maxLength:4,placeholder:this.state.front.theme,style:t,onChange:function(t){return e.themeChangeHandler(t,"light")}})," and dark theme ",r.createElement("input",{placeholder:this.state.front.darkTheme,maxLength:4,style:t,onChange:function(t){return e.themeChangeHandler(t,"dark")}}),".",r.createElement("br",null),"Set a new light theme via the ",r.createElement("p",{className:"buttonSimul",style:{padding:"0px 3px 0px 3px"}},r.createElement(f,{icon:"sun",size:"13pt",stroke:i,fill:s}))," buttons and a new dark theme via the ",r.createElement("p",{className:"buttonSimul",style:{padding:"0px 3px 0px 3px"}},r.createElement(f,{icon:"moon",size:"13pt",stroke:i,fill:s}))," buttons below.",r.createElement("br",null),r.createElement("br",null))):n.push(r.createElement("div",{key:12,className:"selectable"},"Using theme ",r.createElement("input",{maxLength:4,placeholder:this.state.front.theme,style:t,onChange:function(t){return e.themeChangeHandler(t,"light")}}),".",r.createElement("br",null),"Set a new theme via the ",r.createElement("p",{className:"buttonSimul",style:{padding:"0px 3px 0px 3px"}},r.createElement(f,{icon:"sunmoon",size:"13pt",stroke:i,fill:s}))," buttons below.",r.createElement("br",null),r.createElement("br",null))),n.push(r.createElement(pe.a,{key:17},a)),n.push(r.createElement("div",{className:"checkbox",key:"d170"},r.createElement("label",null,r.createElement("input",{type:"checkbox",key:170,checked:this.state.front.autoSelectTheme,onChange:this.changeHandler("front","autoSelectTheme",!0)}),"Try to detect a system-wide dark mode and correspondingly adjust the theme used."))),this.state.front.autoSelectTheme||n.push(r.createElement("div",{key:121,className:"selectable"},"Background color for erroneous code: ",r.createElement("input",{type:"color",value:this.state.front.errorColor,onChange:this.colorChangeHandler("errorColor")}),r.createElement("br",null),"Background color for evaluated code: ",r.createElement("input",{type:"color",value:this.state.front.successColor1,onChange:this.colorChangeHandler("successColor1")}),r.createElement("br",null),"Alternative background color for evaluated code: ",r.createElement("input",{type:"color",value:this.state.front.successColor2,onChange:this.colorChangeHandler("successColor2")}),r.createElement("br",null),r.createElement("br",null),r.createElement("button",{className:"btn btn-dng-alt",onClick:this.resetColorsToDefault,type:"button"},r.createElement("span",{className:"glyphicon glyphicon-repeat"})," Reset colors to theme default"))),n.push(r.createElement("p",{key:"b1"}," ",r.createElement("br",null))),n}},{key:"changeHandler",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){n.setState((function(r){var a=n.deepCopy(r);return a[e][t]=!n.state[e][t],a}),(function(){n.saveState()})),r&&window.location.reload()}}},{key:"colorChangeHandler",value:function(e){var t=this;return function(n){var r=n.target.value;t.setState((function(n){var a=t.deepCopy(n);return a.front[e]=r,a}),(function(){t.saveState()}))}}},{key:"timeoutChangeHandler",value:function(e){var t=this,n=parseInt(e.target.value,10);n<0||this.setState((function(e){var r=t.deepCopy(e);return r.front.timeout=Math.min(n,1e10),r}),(function(){t.saveState()}))}},{key:"timeDisplayChangeHandler",value:function(e){var t=this,n=parseInt(e.target.value,10);n<0||this.setState((function(e){var r=t.deepCopy(e);return r.inter.showUsedTimeWhenAbove=Math.min(n,1e10),r}),(function(){t.saveState()}))}},{key:"timeDisplayFlipHandler",value:function(){var e=this;return function(){e.setState((function(t){var n=e.deepCopy(t);return 0===e.state.inter.showUsedTimeWhenAbove?n.inter.showUsedTimeWhenAbove=-500:n.inter.showUsedTimeWhenAbove=-e.state.inter.showUsedTimeWhenAbove,n}),(function(){e.saveState()}))}}},{key:"changeTheme",value:function(e,t){var n=this,r="light"===e?this.state.front.theme:this.state.front.darkTheme;if(Object(m.b)(t,void 0)&&t!==r){this.setState((function(r){var a=n.deepCopy(r);return"light"===e?a.front.theme=t:a.front.darkTheme=t,a}),(function(){n.saveState()}));var a=this.state.front.autoSelectTheme&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;e===(a?"dark":"light")&&window.location.reload()}}},{key:"themeChangeHandler",value:function(e,t){var n=e.target.value;!Object(m.b)(n,void 0)||"light"===t&&this.state.front.theme===n||"dark"===t&&this.state.front.darkTheme===n||(e.target.value="",this.changeTheme(t,n))}},{key:"deepCopy",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"saveState",value:function(){localStorage.setItem("interpreterSettings",JSON.stringify(this.state.inter));var e=this.deepCopy(this.state.front);(null===e.timeout||isNaN(e.timeout))&&(e.timeout=5e3),localStorage.setItem("interfaceSettings",JSON.stringify(e))}}]),n}(r.Component),ge=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.match&&this.props.history.replace("/editor",{fileName:this.props.match.params.name,example:0===window.location.pathname.indexOf("/example")})}},{key:"render",value:function(){return r.createElement("div",null)}}]),n}(r.Component),ye=n(19),ke=(n(136),function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e,t,n=Object(u.e)(),a=Object(m.c)(Object(m.b)(n.theme,n.autoSelectTheme?n.darkTheme:void 0));return e=(window.innerWidth>0?window.innerWidth:window.screen.width)<600?r.createElement("div",{className:"footer"},"\xa9 2022 ",r.createElement("a",{href:"https://github.com/SOSML"},"The SOSML developers")," | ",r.createElement("a",{href:"https://www.uni-saarland.de/footer/dialog/impressum.html"},"Imprint")):r.createElement("div",{className:"footer"},"\xa9 2022 ",r.createElement("a",{href:"https://github.com/SOSML"},"The SOSML Developers")," | ",r.createElement("a",{href:"https://github.com/SOSML/SOSML"},"Sources on GitHub")," | ",r.createElement("a",{href:"https://github.com/SOSML/SOSML/issues"},"File a Bug")," | ",r.createElement("a",{href:"https://www.uni-saarland.de/impressum"},"Imprint")),t=Object(u.o)()?r.createElement(ye.a,{path:"/wishes",component:me}):r.createElement(ye.a,{path:"/wishes",component:ue}),r.createElement(d.a,null,r.createElement("div",{className:"rootPage"},r.createElement("style",null,a),r.createElement(v,null),r.createElement(ye.a,{exact:!0,path:"/",component:me}),r.createElement(ye.a,{path:"/editor",component:G}),r.createElement(ye.a,{path:"/files",component:se}),r.createElement(ye.a,{path:"/help",component:me}),r.createElement(ye.a,{path:"/settings",component:ve}),t,r.createElement(ye.a,{path:"/file/:name",component:ge}),r.createElement(ye.a,{path:"/examplefile/:name",component:ge}),r.createElement(ye.a,{path:"/share/:hash",component:G}),r.createElement(ye.a,{path:"/wishare/:hash",component:ue}),e))}}]),n}(r.Component)),Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function we(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.render(r.createElement(ke,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/SOOCaml-frontend",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/SOOCaml-frontend","/service-worker.js");Ee?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):we(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):we(e)}))}}()},22:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c}));var r=!0,a=!0,o=!0,i=!0,s=!1,c="sayaka"},6:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return h})),n.d(t,"m",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"n",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return _}));var r,a,o=n(10),i=n(9),s=n(22),c=n(11);function l(e){return e.type!==r.SHARE?e.name:Object.prototype.hasOwnProperty.call(e.info,"date")&&void 0!==e.info.date?e.info.date instanceof Date?e.info.date.toISOString().substr(0,10)+"/"+e.name:(e.info.date+"").substr(0,10)+"/"+e.name:"????-??-??/"+e.name}function h(e){var t=localStorage.getItem("wishDownloaded");if("string"===typeof t){var n=JSON.parse(t);if(n.hasOwnProperty(e))return n[e]}return!1}function d(e,t){var n=localStorage.getItem("wishDownloaded"),r={};"string"===typeof n&&(r=JSON.parse(n)),r[e]=t,localStorage.setItem("wishDownloaded",JSON.stringify(r))}function u(e,t){var n=localStorage.getItem("wishProgress"),r=e+"@"+t;if("string"===typeof n){var a=JSON.parse(n);if(a.hasOwnProperty(r))return a[r]}return 0}function m(e,t,n){var r=localStorage.getItem("wishProgress"),a=e+"@"+t,o={};"string"===typeof r&&(o=JSON.parse(r)),o[a]=n,localStorage.setItem("wishProgress",JSON.stringify(o))}!function(e){e[e.LOCAL=1]="LOCAL",e[e.SERVER=2]="SERVER",e[e.SHARE=3]="SHARE"}(r||(r={})),function(e){e[e.LOCAL=1]="LOCAL",e[e.SERVER=2]="SERVER",e[e.SHARE=3]="SHARE",e[e.LOCAL_DEFAULT=4]="LOCAL_DEFAULT"}(a||(a={}));function p(e,t){if("string"===typeof t){var n=JSON.parse(t);for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}function f(){var e={allowUnicodeInStrings:!0,allowUnicode:!1,allowUnicodeTypeVariables:!1,showTypeVariablesAsUnicode:!1,allowSuccessorML:!1,disableElaboration:!1,disableEvaluation:!1,allowVector:!0,allowLongFunctionNames:!1,allowStructuresAnywhere:!1,allowSignaturesAnywhere:!1,allowFunctorsAnywhere:!1,strictMode:!0,realEquality:!1,showUsedTimeWhenAbove:-500};return p(e,localStorage.getItem("interpreterSettings")),e}function b(){var e=localStorage.getItem("interfaceSettings"),t={fullscreen:!1,timeout:5e3,errorColor:Object(c.a)(s.a,void 0,"error"),successColor1:Object(c.a)(s.a,void 0,"success"),successColor2:Object(c.a)(s.a,void 0,"success_alt"),outputHighlight:!0,autoIndent:!0,userContributesEnergy:!1,theme:s.a,darkTheme:"homura",maxTabCount:75,globalLastCache:!0,showHiddenFiles:!1,advancedMode:!1,autoSelectTheme:!0,useMobile:!0,hideBeforeCodeResult:!0,wishingHidden:s.f};return p(t,e),t}function v(){return!s.e||!!s.f&&b().wishingHidden}function g(){if(b().globalLastCache){var e=localStorage.getItem("lastCachedFile");return null===e?void 0:e}}function y(e){localStorage.setItem("lastCachedFile",e)}var k=-1;function E(){return-1===k&&(k=function(){var e=b().maxTabCount,t=localStorage.getItem("tabCount");if(null===t)return localStorage.setItem("tabCount","0"),0;var n=(+t+1)%e;return localStorage.setItem("tabCount",""+n),n}()),k}function w(e){k=e}var _=function(){function e(){Object(o.a)(this,e),this.database=void 0,this.dbRequest=void 0}return Object(i.a)(e,[{key:"getReady",value:function(){var e=this;return new Promise((function(t,n){null!=e.database?t(e):null==e.dbRequest&&e.init(),e.dbRequest.onsuccess=function(n){e.database=n.target.result,t(e)},e.dbRequest.onerror=function(e){n("Database could not be loaded")}}))}},{key:"getWishes",value:function(){var e=this;return new Promise((function(t,n){var r=e.database.transaction(["wishes"]).objectStore("wishes").openCursor();r.onerror=function(e){n("Error during read")};var a=[];r.onsuccess=function(e){var n=e.target.result;n?(void 0!==n.value&&a.push([n.value.value,{fileName:n.key,info:n.value,wishType:n.value.type}]),n.continue()):t(a)}}))}},{key:"getFiles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(a,o){var i=e.database.transaction(["files"]).objectStore("files").openCursor();i.onerror=function(e){o("Error during read")};var s=[];i.onsuccess=function(i){var c=i.target.result;if(c)void 0===c.value||c.value.hidden&&!t||s.push({name:c.key,info:c.value,type:r.LOCAL}),c.continue();else if(n){var l=e.database.transaction(["shares"]).objectStore("shares").openCursor();l.onerror=function(e){o("Error during read")},l.onsuccess=function(e){var t=e.target.result;t?(void 0!==t.value&&s.push({name:t.key,info:t.value,type:r.SHARE}),t.continue()):a(s)}}else a(s)}}))}},{key:"saveFile",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(r?".GRF_SD/":"")+e;return new Promise((function(e,o){var i=n.database.transaction(["files"],"readwrite").objectStore("files").put({name:a,value:t,date:(new Date).toISOString(),hidden:r});i.onerror=function(e){o(!1)},i.onsuccess=function(t){e(!0)}}))}},{key:"saveShare",value:function(e,t){var n=this,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=a?r.LOCAL:r.SERVER;return new Promise((function(r,a){var i=n.database.transaction(["shares"],"readwrite").objectStore("shares").put({name:e,value:t,date:(new Date).toISOString(),origin:o});i.onerror=function(e){a(!1)},i.onsuccess=function(e){r(!0)}}))}},{key:"saveWish",value:function(e,t,n){var r=this;return new Promise((function(a,o){var i=r.database.transaction(["wishes"],"readwrite").objectStore("wishes").put({name:e,value:t,date:(new Date).toISOString(),type:n});i.onerror=function(e){o(!1)},i.onsuccess=function(e){a(!0)}}))}},{key:"getFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(n?".GRF_SD/":"")+e,o=r?"shares":"files";return new Promise((function(e,n){var r=t.database.transaction([o]).objectStore(o).get(a);r.onerror=function(e){n("Error during read")},r.onsuccess=function(t){try{void 0===t.target.result?n("Reading "+a+" failed: File does not exist."):e(t.target.result.value)}catch(r){n("Reading "+a+" failed with error "+r.name+": "+r.message)}}}))}},{key:"getShare",value:function(e){var t=this;return new Promise((function(n,r){var a=t.database.transaction(["shares"]).objectStore("shares").get(e);a.onerror=function(e){r("Error during read")},a.onsuccess=function(t){try{n([t.target.result.value,t.target.result.origin,t.target.result])}catch(a){r("Reading "+e+" failed with error "+a.name+": "+a.message)}}}))}},{key:"getWish",value:function(e){var t=this;return new Promise((function(n,r){var a=t.database.transaction(["wishes"]).objectStore("wishes").get(e);a.onerror=function(e){r("Error during read")},a.onsuccess=function(t){try{n([t.target.result.value,t.target.result.origin,t.target.result])}catch(a){r("Reading wish "+e+" failed with error "+a.name+": "+a.message)}}}))}},{key:"deleteDBObject",value:function(e,t){var n=this;return new Promise((function(r,a){var o=n.database.transaction([t],"readwrite").objectStore(t).delete(e);o.onerror=function(e){a(!1)},o.onsuccess=function(e){r(!0)}}))}},{key:"deleteFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(t?".GRF_SD/":"")+e,a=n?"shares":"files";return this.deleteDBObject(r,a)}},{key:"deleteWish",value:function(e){return this.deleteDBObject(e,"wishes")}},{key:"init",value:function(){var e=this;this.dbRequest=window.indexedDB.open("FilesDB",5),this.dbRequest.onupgradeneeded=function(e){var t=e.target.result;try{t.createObjectStore("files",{keyPath:"name"})}catch(n){}try{t.createObjectStore("shares",{keyPath:"name"})}catch(n){}try{t.createObjectStore("wishes",{keyPath:"name"})}catch(n){}},this.dbRequest.onsuccess=function(t){e.database=t.target.result}}}],[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance.getReady()}}]),e}();_.instance=void 0},88:function(e){e.exports=JSON.parse('{"error":"rgba(34,3,3,0.85)","success":"rgba(14,34,3,0.85)","success_alt":"rgba(6,43,45,0.85)","background":"#021114","foreground":"#20bedd","border":"#029dbb","navbar_hover":"white","navbar_bg":"black","navbar_fg":"#a1ecfb","navbar_focus_bg":"rgba(11, 124, 147, 0.65)","navbar_focus_fg":"white","link":"#acf9fb","link_hover":"white","minihead_bg":"#021114","minihead_fg":"#a1ecfb","editor_bg":"#021114","editor_fg":"rgba(11, 124, 147, 0.65)","selection_bg":"rgba(11, 124, 147, 0.65)","alert_fg":"#8bebfe","alert_bg":"#021114","alert_border":"#8bebfe","btn_pri_fg":"#acf9fb","btn_pri_bg":"rgba(6,43,45,0.65)","btn_pri_border":"#26dafd","btn_dng_fg":"#df0000","btn_dng_bg":"rgba(34,3,3,0.65)","btn_dng_border":"#e43f3a","btn_suc_fg":"#00df00","btn_suc_bg":"rgba(14,34,3,0.65)","btn_suc_border":"#00df00","btn_hover":"white","cm_builtin":"#bB7Dbf","cm_comment":"#99adc5","cm_atom":"#05d48e","cm_number":"#05d48e","cm_prop":"#3aafff","cm_keyword":"#3aafff","cm_string":"#05d48e","cm_variable":"#8b6ccf","cm_variable_alt":"#3aafff","cm_bracket":"white","cm_def":"white","cm_tag":"white","cm_link":"white","cm_error":"white","qr_fg":"#021114","qr_bg":"#20bedd","icon_fg":"#a1ecfb","icon_bg":"rgba(11, 124, 147, 0.65)"}')},89:function(e){e.exports=JSON.parse('{"error":"black","success":"black","success_alt":"black","background":"black","foreground":"#ccc","border":"crimson","navbar_hover":"lightcoral","navbar_bg":"black","navbar_fg":"crimson","navbar_focus_bg":"crimson","navbar_focus_fg":"black","link":"lightcoral","link_hover":"crimson","minihead_bg":"black","minihead_fg":"crimson","editor_bg":"black","editor_fg":"crimson","selection_bg":"crimson","alert_fg":"deeppink","alert_bg":"black","alert_border":"crimson","btn_pri_fg":"#ccc","btn_pri_bg":"black","btn_pri_border":"deeppink","btn_dng_fg":"crimson","btn_dng_bg":"black","btn_dng_border":"#d43f3a","btn_suc_fg":"#1dd41d","btn_suc_bg":"black","btn_suc_border":"#1dd41d","btn_hover":"lightcoral","cm_builtin":"#ccc","cm_comment":"#bbb","cm_atom":"deeppink","cm_number":"deeppink","cm_prop":"deeppink","cm_keyword":"crimson","cm_string":"deeppink","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_fg":"black","qr_bg":"#ccc","icon_fg":"#fcc7c7","icon_bg":"crimson"}')},90:function(e){e.exports=JSON.parse('{"error":"#ffdcdc","success":"#d2ffd2","success_alt":"#dcffff","background":"#fefdfd","foreground":"#883747","border":"deeppink","navbar_hover":"darkred","navbar_bg":"#ffe4e8","navbar_fg":"crimson","navbar_focus_bg":"#fd8da2","navbar_focus_fg":"#fff","link":"lightcoral","link_hover":"crimson","minihead_bg":"#fefdfd","minihead_fg":"crimson","editor_bg":"#fefdfd","editor_fg":"deeppink","selection_bg":"#fd8da2","alert_fg":"crimson","alert_bg":"#ffe4e8","alert_border":"deeppink","btn_pri_fg":"crimson","btn_pri_bg":"#ffe4e8","btn_pri_border":"deeppink","btn_dng_fg":"#ff9fb5","btn_dng_bg":"#333","btn_dng_border":"#d43f3a","btn_suc_fg":"#266726","btn_suc_bg":"#a9e7a9","btn_suc_border":"#4cae4c","btn_hover":"#23527c","cm_builtin":"deeppink","cm_comment":"lightcoral","cm_atom":"crimson","cm_number":"crimson","cm_prop":"inherit","cm_keyword":"red","cm_string":"crimson","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_bg":"#fefdfd","qr_fg":"#883747","icon_bg":"darkred","icon_fg":"#fcc7c7"}')},91:function(e){e.exports=JSON.parse('{"error":"#ffdcdc","success_alt":"#d2ffd2","success":"#dcffff","background":"#fff","foreground":"#333","border":"#2f2f2f","navbar_hover":"#fff","navbar_bg":"#2f2f2f","navbar_fg":"#bbb","navbar_focus_bg":"#4f4f4f","navbar_focus_fg":"#fff","link":"#337ab7","link_hover":"#23527c","minihead_bg":"#fff","minihead_fg":"#333","editor_bg":"#fff","editor_fg":"#31708f","selection_bg":"#23527c","alert_fg":"#164","alert_bg":"#bce8f1","alert_border":"#2e6da4","btn_pri_fg":"#fff","btn_pri_bg":"#337ab7","btn_pri_border":"#2f2f2f","btn_dng_fg":"#fff","btn_dng_bg":"#d9534f","btn_dng_border":"#2f2f2f","btn_suc_fg":"#fff","btn_suc_bg":"#5cb85c","btn_suc_border":"#2f2f2f","btn_hover":"#23527c","cm_builtin":"#708","cm_comment":"#337ab7","cm_atom":"#164","cm_number":"#164","cm_prop":"inherit","cm_keyword":"#337ab7","cm_string":"#164","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_bg":"#fff","qr_fg":"#333","icon_fg":"#bbb","icon_bg":"#2f2f2f"}')},92:function(e){e.exports=JSON.parse('{"error":"#744040","success":"#437440","success_alt":"#4a8079","background":"#4f4f4f","foreground":"#ddd","border":"#ddd","navbar_hover":"#fff","navbar_bg":"#2f2f2f","navbar_fg":"#bbb","navbar_focus_bg":"#4f4f4f","navbar_focus_fg":"#fff","link":"#c67fc6","link_hover":"mediumpurple","minihead_bg":"#4f4f4f","minihead_fg":"#ddd","editor_bg":"#4f4f4f","editor_fg":"#ddd","selection_bg":"#2f2f2f","alert_fg":"#d9edf7","alert_bg":"#406b74","alert_border":"#bce8f1","btn_pri_fg":"#d9edf7","btn_pri_bg":"#406b74","btn_pri_border":"#bce8f1","btn_dng_fg":"#f7d9d9","btn_dng_bg":"#744040","btn_dng_border":"#f1bcbc","btn_suc_fg":"#d9f7dd","btn_suc_bg":"#437440","btn_suc_border":"#bcf1be","btn_hover":"mediumpurple","cm_builtin":"#bbb","cm_comment":"#c67fc6","cm_atom":"#ddd","cm_number":"#ddd","cm_prop":"#ddd","cm_keyword":"#fff","cm_string":"#ddd","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_fg":"#4f4f4f","qr_bg":"#ddd","icon_fg":"#bbb","icon_bg":"#2f2f2f"}')},93:function(e){e.exports=JSON.parse('{"error":"#fbe9e9","success":"#e7fbf8","success_alt":"#e7fbe0","background":"#fffdf3","foreground":"#883747","border":"#34271e","navbar_hover":"#a94f58","navbar_bg":"#ecd97a","navbar_fg":"#7c5f19","navbar_focus_bg":"#a69150","navbar_focus_fg":"#fff","link":"#72533f","link_hover":"#a94f58","minihead_bg":"#fffdf3","minihead_fg":"#7c5f19","editor_bg":"#fffdf3","editor_fg":"#34271e","selection_bg":"#a69150","alert_fg":"#7c5f19","alert_bg":"#ecd97a","alert_border":"#34271e","btn_pri_fg":"#7c5f19","btn_pri_bg":"#ecd97a","btn_pri_border":"#34271e","btn_dng_fg":"#ff9fb5","btn_dng_bg":"#333","btn_dng_border":"#d43f3a","btn_suc_fg":"#266726","btn_suc_bg":"#a9e7a9","btn_suc_border":"#387e38","btn_hover":"#a94f58","cm_builtin":"#34271e","cm_comment":"#d3a548","cm_atom":"#887c24","cm_number":"#887c24","cm_prop":"inherit","cm_keyword":"#82681e","cm_string":"#887c24","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_bg":"#fffdf3","qr_fg":"#883747","icon_fg":"#fffdf3","icon_bg":"#7c5f19"}')},94:function(e){e.exports=JSON.parse('{"error":"black","success":"black","success_alt":"black","background":"black","foreground":"#ccc","border":"lime","navbar_hover":"lightgreen","navbar_bg":"black","navbar_fg":"lime","navbar_focus_bg":"lime","navbar_focus_fg":"black","link":"lightgreen","link_hover":"lime","minihead_bg":"black","minihead_fg":"lime","editor_bg":"black","editor_fg":"lime","selection_bg":"green","alert_fg":"lime","alert_bg":"black","alert_border":"lime","btn_pri_fg":"#ccc","btn_pri_bg":"black","btn_pri_border":"lime","btn_dng_fg":"lime","btn_dng_bg":"black","btn_dng_border":"#d43f3a","btn_suc_fg":"#266726","btn_suc_bg":"black","btn_suc_border":"#4cae4c","btn_hover":"lightgreen","cm_builtin":"#ccc","cm_comment":"#bbb","cm_atom":"lime","cm_number":"lime","cm_prop":"lime","cm_keyword":"lime","cm_string":"lime","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_fg":"black","qr_bg":"#ccc","icon_fg":"lime","icon_bg":"black"}')},95:function(e){e.exports=JSON.parse('{"error":"#ffdcdc","success":"#d2ffd2","success_alt":"#dcffff","background":"#fefdfd","foreground":"#3d1404","border":"#795a2e","navbar_hover":"#7b362d","navbar_bg":"#e0dde0","navbar_fg":"#150f0a","navbar_focus_bg":"#3d1404","navbar_focus_fg":"#fff","link":"#c07460","link_hover":"#150f0a","minihead_bg":"#fefdfd","minihead_fg":"#150f0a","editor_bg":"#fefdfd","editor_fg":"#795a2e","selection_bg":"#da8e6a","alert_fg":"#150f0a","alert_bg":"#fadbcd","alert_border":"#795a2e","btn_pri_fg":"#150f0a","btn_pri_bg":"#fadbcd","btn_pri_border":"#795a2e","btn_dng_fg":"#ff9fb5","btn_dng_bg":"#333","btn_dng_border":"#d43f3a","btn_suc_fg":"#266726","btn_suc_bg":"#a9e7a9","btn_suc_border":"#4cae4c","btn_hover":"#23527c","cm_builtin":"#795a2e","cm_comment":"#c07460","cm_atom":"#150f0a","cm_number":"#150f0a","cm_prop":"inherit","cm_keyword":"#3d1404","cm_string":"#150f0a","cm_variable":"inherit","cm_variable_alt":"inherit","cm_def":"inherit","cm_bracket":"inherit","cm_tag":"inherit","cm_link":"inherit","cm_error":"inherit","qr_bg":"#fefdfd","qr_fg":"#903612","icon_bg":"#3d1404","icon_fg":"#d7b55f"}')}},[[110,1,2]]]);
//# sourceMappingURL=main.419d57da.chunk.js.map